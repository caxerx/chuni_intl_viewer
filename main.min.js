!function(){"use strict";var e=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,t=Math.ceil,r=Math.floor,i="[BigNumber Error] ",n=i+"Number primitive has more than 15 significant digits: ",o=1e14,l=14,s=9007199254740991,a=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,u=1e9;function d(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,r,i=1,n=e.length,o=e[0]+"";i<n;){for(t=e[i++]+"",r=l-t.length;r--;t="0"+t);o+=t}for(n=o.length;48===o.charCodeAt(--n););return o.slice(0,n+1||1)}function w(e,t){var r,i,n=e.c,o=t.c,l=e.s,s=t.s,a=e.e,c=t.e;if(!l||!s)return null;if(r=n&&!n[0],i=o&&!o[0],r||i)return r?i?0:-s:l;if(l!=s)return l;if(r=l<0,i=a==c,!n||!o)return i?0:!n^r?1:-1;if(!i)return a>c^r?1:-1;for(s=(a=n.length)<(c=o.length)?a:c,l=0;l<s;l++)if(n[l]!=o[l])return n[l]>o[l]^r?1:-1;return a==c?0:a>c^r?1:-1}function p(e,t,n,o){if(e<t||e>n||e!==r(e))throw Error(i+(o||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function m(e){var t=e.c.length-1;return d(e.e/l)==t&&e.c[t]%2!=0}function h(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function g(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(++t>(i=e.length)){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}var b=function b(v){var y,x,k,z,O,E,N,B,T,A,$=q.prototype={constructor:q,toString:null,valueOf:null},_=new q(1),S=20,C=4,R=-7,D=21,j=-1e7,L=1e7,P=!1,G=1,M=0,I={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz";function q(t,i){var o,a,c,u,d,f,w,m,h=this;if(!(h instanceof q))return new q(t,i);if(null==i){if(t&&!0===t._isBigNumber)return h.s=t.s,void(!t.c||t.e>L?h.c=h.e=null:t.e<j?h.c=[h.e=0]:(h.e=t.e,h.c=t.c.slice()));if((f="number"==typeof t)&&0*t==0){if(h.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,d=t;d>=10;d/=10,u++);return void(u>L?h.c=h.e=null:(h.e=u,h.c=[t]))}m=String(t)}else{if(!e.test(m=String(t)))return k(h,m,f);h.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(u=m.indexOf("."))>-1&&(m=m.replace(".","")),(d=m.search(/e/i))>0?(u<0&&(u=d),u+=+m.slice(d+1),m=m.substring(0,d)):u<0&&(u=m.length)}else{if(p(i,2,U.length,"Base"),10==i)return H(h=new q(t),S+h.e+1,C);if(m=String(t),f="number"==typeof t){if(0*t!=0)return k(h,m,f,i);if(h.s=1/t<0?(m=m.slice(1),-1):1,q.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(n+t)}else h.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(o=U.slice(0,i),u=d=0,w=m.length;d<w;d++)if(o.indexOf(a=m.charAt(d))<0){if("."==a){if(d>u){u=w;continue}}else if(!c&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){c=!0,d=-1,u=0;continue}return k(h,String(t),f,i)}f=!1,(u=(m=x(m,i,10,h.s)).indexOf("."))>-1?m=m.replace(".",""):u=m.length}for(d=0;48===m.charCodeAt(d);d++);for(w=m.length;48===m.charCodeAt(--w););if(m=m.slice(d,++w)){if(w-=d,f&&q.DEBUG&&w>15&&(t>s||t!==r(t)))throw Error(n+h.s*t);if((u=u-d-1)>L)h.c=h.e=null;else if(u<j)h.c=[h.e=0];else{if(h.e=u,h.c=[],d=(u+1)%l,u<0&&(d+=l),d<w){for(d&&h.c.push(+m.slice(0,d)),w-=l;d<w;)h.c.push(+m.slice(d,d+=l));d=l-(m=m.slice(d)).length}else d-=w;for(;d--;m+="0");h.c.push(+m)}}else h.c=[h.e=0]}function F(e,t,r,i){var n,o,l,s,a;if(null==r?r=C:p(r,0,8),!e.c)return e.toString();if(n=e.c[0],l=e.e,null==t)a=f(e.c),a=1==i||2==i&&(l<=R||l>=D)?h(a,l):g(a,l,"0");else if(o=(e=H(new q(e),t,r)).e,s=(a=f(e.c)).length,1==i||2==i&&(t<=o||o<=R)){for(;s<t;a+="0",s++);a=h(a,o)}else if(t-=l,a=g(a,o,"0"),o+1>s){if(--t>0)for(a+=".";t--;a+="0");}else if((t+=o-s)>0)for(o+1==s&&(a+=".");t--;a+="0");return e.s<0&&n?"-"+a:a}function X(e,t){for(var r,i=1,n=new q(e[0]);i<e.length;i++){if(!(r=new q(e[i])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function Y(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+r*l-1)>L?e.c=e.e=null:r<j?e.c=[e.e=0]:(e.e=r,e.c=t),e}function H(e,i,n,s){var c,u,d,f,w,p,m,h=e.c,g=a;if(h){e:{for(c=1,f=h[0];f>=10;f/=10,c++);if((u=i-c)<0)u+=l,d=i,m=(w=h[p=0])/g[c-d-1]%10|0;else if((p=t((u+1)/l))>=h.length){if(!s)break e;for(;h.length<=p;h.push(0));w=m=0,c=1,d=(u%=l)-l+1}else{for(w=f=h[p],c=1;f>=10;f/=10,c++);m=(d=(u%=l)-l+c)<0?0:w/g[c-d-1]%10|0}if(s=s||i<0||null!=h[p+1]||(d<0?w:w%g[c-d-1]),s=n<4?(m||s)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||s||6==n&&(u>0?d>0?w/g[c-d]:0:h[p-1])%10&1||n==(e.s<0?8:7)),i<1||!h[0])return h.length=0,s?(i-=e.e+1,h[0]=g[(l-i%l)%l],e.e=-i||0):h[0]=e.e=0,e;if(0==u?(h.length=p,f=1,p--):(h.length=p+1,f=g[l-u],h[p]=d>0?r(w/g[c-d]%g[d])*f:0),s)for(;;){if(0==p){for(u=1,d=h[0];d>=10;d/=10,u++);for(d=h[0]+=f,f=1;d>=10;d/=10,f++);u!=f&&(e.e++,h[0]==o&&(h[0]=1));break}if(h[p]+=f,h[p]!=o)break;h[p--]=0,f=1}for(u=h.length;0===h[--u];h.pop());}e.e>L?e.c=e.e=null:e.e<j&&(e.c=[e.e=0])}return e}function V(e){var t,r=e.e;return null===r?e.toString():(t=f(e.c),t=r<=R||r>=D?h(t,r):g(t,r,"0"),e.s<0?"-"+t:t)}return q.clone=b,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(i+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(p(r=e[t],0,u,t),S=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(p(r=e[t],0,8,t),C=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(p(r[0],-u,0,t),p(r[1],0,u,t),R=r[0],D=r[1]):(p(r,-u,u,t),R=-(D=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)p(r[0],-u,-1,t),p(r[1],1,u,t),j=r[0],L=r[1];else{if(p(r,-u,u,t),!r)throw Error(i+t+" cannot be zero: "+r);j=-(L=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(i+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw P=!r,Error(i+"crypto unavailable");P=r}else P=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(p(r=e[t],0,9,t),G=r),e.hasOwnProperty(t="POW_PRECISION")&&(p(r=e[t],0,u,t),M=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(i+t+" not an object: "+r);I=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(i+t+" invalid: "+r);U=r}}return{DECIMAL_PLACES:S,ROUNDING_MODE:C,EXPONENTIAL_AT:[R,D],RANGE:[j,L],CRYPTO:P,MODULO_MODE:G,POW_PRECISION:M,FORMAT:I,ALPHABET:U}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,s=e.c,a=e.e,c=e.s;e:if("[object Array]"=={}.toString.call(s)){if((1===c||-1===c)&&a>=-u&&a<=u&&a===r(a)){if(0===s[0]){if(0===a&&1===s.length)return!0;break e}if((t=(a+1)%l)<1&&(t+=l),String(s[0]).length==t){for(t=0;t<s.length;t++)if((n=s[t])<0||n>=o||n!==r(n))break e;if(0!==n)return!0}}}else if(null===s&&null===a&&(null===c||1===c||-1===c))return!0;throw Error(i+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return X(arguments,$.lt)},q.minimum=q.min=function(){return X(arguments,$.gt)},q.random=(z=9007199254740992,O=Math.random()*z&2097151?function(){return r(Math.random()*z)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var n,o,s,c,d,f=0,w=[],m=new q(_);if(null==e?e=S:p(e,0,u),c=t(e/l),P)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(c*=2));f<c;)(d=131072*n[f]+(n[f+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),n[f]=o[0],n[f+1]=o[1]):(w.push(d%1e14),f+=2);f=c/2}else{if(!crypto.randomBytes)throw P=!1,Error(i+"crypto unavailable");for(n=crypto.randomBytes(c*=7);f<c;)(d=281474976710656*(31&n[f])+1099511627776*n[f+1]+4294967296*n[f+2]+16777216*n[f+3]+(n[f+4]<<16)+(n[f+5]<<8)+n[f+6])>=9e15?crypto.randomBytes(7).copy(n,f):(w.push(d%1e14),f+=7);f=c/7}if(!P)for(;f<c;)(d=O())<9e15&&(w[f++]=d%1e14);for(c=w[--f],e%=l,c&&e&&(d=a[l-e],w[f]=r(c/d)*d);0===w[f];w.pop(),f--);if(f<0)w=[s=0];else{for(s=-1;0===w[0];w.splice(0,1),s-=l);for(f=1,d=w[0];d>=10;d/=10,f++);f<l&&(s-=l-f)}return m.e=s,m.c=w,m}),q.sum=function(){for(var e=1,t=arguments,r=new q(t[0]);e<t.length;)r=r.plus(t[e++]);return r},x=function(){var e="0123456789";function t(e,t,r,i){for(var n,o,l=[0],s=0,a=e.length;s<a;){for(o=l.length;o--;l[o]*=t);for(l[0]+=i.indexOf(e.charAt(s++)),n=0;n<l.length;n++)l[n]>r-1&&(null==l[n+1]&&(l[n+1]=0),l[n+1]+=l[n]/r|0,l[n]%=r)}return l.reverse()}return function(r,i,n,o,l){var s,a,c,u,d,w,p,m,h=r.indexOf("."),b=S,v=C;for(h>=0&&(u=M,M=0,r=r.replace(".",""),w=(m=new q(i)).pow(r.length-h),M=u,m.c=t(g(f(w.c),w.e,"0"),10,n,e),m.e=m.c.length),c=u=(p=t(r,i,n,l?(s=U,e):(s=e,U))).length;0==p[--u];p.pop());if(!p[0])return s.charAt(0);if(h<0?--c:(w.c=p,w.e=c,w.s=o,p=(w=y(w,m,b,v,n)).c,d=w.r,c=w.e),h=p[a=c+b+1],u=n/2,d=d||a<0||null!=p[a+1],d=v<4?(null!=h||d)&&(0==v||v==(w.s<0?3:2)):h>u||h==u&&(4==v||d||6==v&&1&p[a-1]||v==(w.s<0?8:7)),a<1||!p[0])r=d?g(s.charAt(1),-b,s.charAt(0)):s.charAt(0);else{if(p.length=a,d)for(--n;++p[--a]>n;)p[a]=0,a||(++c,p=[1].concat(p));for(u=p.length;!p[--u];);for(h=0,r="";h<=u;r+=s.charAt(p[h++]));r=g(r,c,s.charAt(0))}return r}}(),y=function(){function e(e,t,r){var i,n,o,l,s=0,a=e.length,u=t%c,d=t/c|0;for(e=e.slice();a--;)s=((n=u*(o=e[a]%c)+(i=d*o+(l=e[a]/c|0)*u)%c*c+s)/r|0)+(i/c|0)+d*l,e[a]=n%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,i){var n,o;if(r!=i)o=r>i?1:-1;else for(n=o=0;n<r;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function i(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,s,a,c,u){var f,w,p,m,h,g,b,v,y,x,k,z,O,E,N,B,T,A=n.s==s.s?1:-1,$=n.c,_=s.c;if(!($&&$[0]&&_&&_[0]))return new q(n.s&&s.s&&($?!_||$[0]!=_[0]:_)?$&&0==$[0]||!_?0*A:A/0:NaN);for(y=(v=new q(A)).c=[],A=a+(w=n.e-s.e)+1,u||(u=o,w=d(n.e/l)-d(s.e/l),A=A/l|0),p=0;_[p]==($[p]||0);p++);if(_[p]>($[p]||0)&&w--,A<0)y.push(1),m=!0;else{for(E=$.length,B=_.length,p=0,A+=2,(h=r(u/(_[0]+1)))>1&&(_=e(_,h,u),$=e($,h,u),B=_.length,E=$.length),O=B,k=(x=$.slice(0,B)).length;k<B;x[k++]=0);T=_.slice(),T=[0].concat(T),N=_[0],_[1]>=u/2&&N++;do{if(h=0,(f=t(_,x,B,k))<0){if(z=x[0],B!=k&&(z=z*u+(x[1]||0)),(h=r(z/N))>1)for(h>=u&&(h=u-1),b=(g=e(_,h,u)).length,k=x.length;1==t(g,x,b,k);)h--,i(g,B<b?T:_,b,u),b=g.length,f=1;else 0==h&&(f=h=1),b=(g=_.slice()).length;if(b<k&&(g=[0].concat(g)),i(x,g,k,u),k=x.length,-1==f)for(;t(_,x,B,k)<1;)h++,i(x,B<k?T:_,k,u),k=x.length}else 0===f&&(h++,x=[0]);y[p++]=h,x[0]?x[k++]=$[O]||0:(x=[$[O]],k=1)}while((O++<E||null!=x[0])&&A--);m=null!=x[0],y[0]||y.splice(0,1)}if(u==o){for(p=1,A=y[0];A>=10;A/=10,p++);H(v,a+(v.e=p+w*l-1)+1,c,m)}else v.e=w,v.r=+m;return v}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,B=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,r,n){var o,l=r?t:t.replace(A,"");if(T.test(l))e.s=isNaN(l)?null:l<0?-1:1;else{if(!r&&(l=l.replace(E,(function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t})),n&&(o=n,l=l.replace(N,"$1").replace(B,"0.$1")),t!=l))return new q(l,o);if(q.DEBUG)throw Error(i+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},$.absoluteValue=$.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},$.comparedTo=function(e,t){return w(this,new q(e,t))},$.decimalPlaces=$.dp=function(e,t){var r,i,n,o=this;if(null!=e)return p(e,0,u),null==t?t=C:p(t,0,8),H(new q(o),e+o.e+1,t);if(!(r=o.c))return null;if(i=((n=r.length-1)-d(this.e/l))*l,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},$.dividedBy=$.div=function(e,t){return y(this,new q(e,t),S,C)},$.dividedToIntegerBy=$.idiv=function(e,t){return y(this,new q(e,t),0,1)},$.exponentiatedBy=$.pow=function(e,n){var o,s,a,c,u,d,f,w,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(i+"Exponent not an integer: "+V(e));if(null!=n&&(n=new q(n)),u=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return w=new q(Math.pow(+V(p),u?2-m(e):+V(e))),n?w.mod(n):w;if(d=e.s<0,n){if(n.c?!n.c[0]:!n.s)return new q(NaN);(s=!d&&p.isInteger()&&n.isInteger())&&(p=p.mod(n))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return c=p.s<0&&m(e)?-0:0,p.e>-1&&(c=1/c),new q(d?1/c:c);M&&(c=t(M/l+2))}for(u?(o=new q(.5),d&&(e.s=1),f=m(e)):f=(a=Math.abs(+V(e)))%2,w=new q(_);;){if(f){if(!(w=w.times(p)).c)break;c?w.c.length>c&&(w.c.length=c):s&&(w=w.mod(n))}if(a){if(0===(a=r(a/2)))break;f=a%2}else if(H(e=e.times(o),e.e+1,1),e.e>14)f=m(e);else{if(0===(a=+V(e)))break;f=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):s&&(p=p.mod(n))}return s?w:(d&&(w=_.div(w)),n?w.mod(n):c?H(w,M,C,undefined):w)},$.integerValue=function(e){var t=new q(this);return null==e?e=C:p(e,0,8),H(t,t.e+1,e)},$.isEqualTo=$.eq=function(e,t){return 0===w(this,new q(e,t))},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(e,t){return w(this,new q(e,t))>0},$.isGreaterThanOrEqualTo=$.gte=function(e,t){return 1===(t=w(this,new q(e,t)))||0===t},$.isInteger=function(){return!!this.c&&d(this.e/l)>this.c.length-2},$.isLessThan=$.lt=function(e,t){return w(this,new q(e,t))<0},$.isLessThanOrEqualTo=$.lte=function(e,t){return-1===(t=w(this,new q(e,t)))||0===t},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&0==this.c[0]},$.minus=function(e,t){var r,i,n,s,a=this,c=a.s;if(t=(e=new q(e,t)).s,!c||!t)return new q(NaN);if(c!=t)return e.s=-t,a.plus(e);var u=a.e/l,f=e.e/l,w=a.c,p=e.c;if(!u||!f){if(!w||!p)return w?(e.s=-t,e):new q(p?a:NaN);if(!w[0]||!p[0])return p[0]?(e.s=-t,e):new q(w[0]?a:3==C?-0:0)}if(u=d(u),f=d(f),w=w.slice(),c=u-f){for((s=c<0)?(c=-c,n=w):(f=u,n=p),n.reverse(),t=c;t--;n.push(0));n.reverse()}else for(i=(s=(c=w.length)<(t=p.length))?c:t,c=t=0;t<i;t++)if(w[t]!=p[t]){s=w[t]<p[t];break}if(s&&(n=w,w=p,p=n,e.s=-e.s),(t=(i=p.length)-(r=w.length))>0)for(;t--;w[r++]=0);for(t=o-1;i>c;){if(w[--i]<p[i]){for(r=i;r&&!w[--r];w[r]=t);--w[r],w[i]+=o}w[i]-=p[i]}for(;0==w[0];w.splice(0,1),--f);return w[0]?Y(e,w,f):(e.s=3==C?-1:1,e.c=[e.e=0],e)},$.modulo=$.mod=function(e,t){var r,i,n=this;return e=new q(e,t),!n.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||n.c&&!n.c[0]?new q(n):(9==G?(i=e.s,e.s=1,r=y(n,e,0,3),e.s=i,r.s*=i):r=y(n,e,0,G),(e=n.minus(r.times(e))).c[0]||1!=G||(e.s=n.s),e)},$.multipliedBy=$.times=function(e,t){var r,i,n,s,a,u,f,w,p,m,h,g,b,v,y,x=this,k=x.c,z=(e=new q(e,t)).c;if(!(k&&z&&k[0]&&z[0]))return!x.s||!e.s||k&&!k[0]&&!z||z&&!z[0]&&!k?e.c=e.e=e.s=null:(e.s*=x.s,k&&z?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=d(x.e/l)+d(e.e/l),e.s*=x.s,(f=k.length)<(m=z.length)&&(b=k,k=z,z=b,n=f,f=m,m=n),n=f+m,b=[];n--;b.push(0));for(v=o,y=c,n=m;--n>=0;){for(r=0,h=z[n]%y,g=z[n]/y|0,s=n+(a=f);s>n;)r=((w=h*(w=k[--a]%y)+(u=g*w+(p=k[a]/y|0)*h)%y*y+b[s]+r)/v|0)+(u/y|0)+g*p,b[s--]=w%v;b[s]=r}return r?++i:b.splice(0,1),Y(e,b,i)},$.negated=function(){var e=new q(this);return e.s=-e.s||null,e},$.plus=function(e,t){var r,i=this,n=i.s;if(t=(e=new q(e,t)).s,!n||!t)return new q(NaN);if(n!=t)return e.s=-t,i.minus(e);var s=i.e/l,a=e.e/l,c=i.c,u=e.c;if(!s||!a){if(!c||!u)return new q(n/0);if(!c[0]||!u[0])return u[0]?e:new q(c[0]?i:0*n)}if(s=d(s),a=d(a),c=c.slice(),n=s-a){for(n>0?(a=s,r=u):(n=-n,r=c),r.reverse();n--;r.push(0));r.reverse()}for((n=c.length)-(t=u.length)<0&&(r=u,u=c,c=r,t=n),n=0;t;)n=(c[--t]=c[t]+u[t]+n)/o|0,c[t]=o===c[t]?0:c[t]%o;return n&&(c=[n].concat(c),++a),Y(e,c,a)},$.precision=$.sd=function(e,t){var r,i,n,o=this;if(null!=e&&e!==!!e)return p(e,1,u),null==t?t=C:p(t,0,8),H(new q(o),e,t);if(!(r=o.c))return null;if(i=(n=r.length-1)*l+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&o.e+1>i&&(i=o.e+1),i},$.shiftedBy=function(e){return p(e,-9007199254740991,s),this.times("1e"+e)},$.squareRoot=$.sqrt=function(){var e,t,r,i,n,o=this,l=o.c,s=o.s,a=o.e,c=S+4,u=new q("0.5");if(1!==s||!l||!l[0])return new q(!s||s<0&&(!l||l[0])?NaN:l?o:1/0);if(0==(s=Math.sqrt(+V(o)))||s==1/0?(((t=f(l)).length+a)%2==0&&(t+="0"),s=Math.sqrt(+t),a=d((a+1)/2)-(a<0||a%2),r=new q(t=s==1/0?"5e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new q(s+""),r.c[0])for((s=(a=r.e)+c)<3&&(s=0);;)if(n=r,r=u.times(n.plus(y(o,n,c,1))),f(n.c).slice(0,s)===(t=f(r.c)).slice(0,s)){if(r.e<a&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(r,r.e+S+2,1),e=!r.times(r).eq(o));break}if(!i&&(H(n,n.e+S+2,0),n.times(n).eq(o))){r=n;break}c+=4,s+=4,i=1}return H(r,r.e+S+1,C,e)},$.toExponential=function(e,t){return null!=e&&(p(e,0,u),e++),F(this,e,t,1)},$.toFixed=function(e,t){return null!=e&&(p(e,0,u),e=e+this.e+1),F(this,e,t)},$.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=I;else if("object"!=typeof r)throw Error(i+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var l,s=n.split("."),a=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",d=s[0],f=s[1],w=o.s<0,p=w?d.slice(1):d,m=p.length;if(c&&(l=a,a=c,c=l,m-=l),a>0&&m>0){for(l=m%a||a,d=p.substr(0,l);l<m;l+=a)d+=u+p.substr(l,a);c>0&&(d+=u+p.slice(l)),w&&(d="-"+d)}n=f?d+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):d}return(r.prefix||"")+n+(r.suffix||"")},$.toFraction=function(e){var t,r,n,o,s,c,u,d,w,p,m,h,g=this,b=g.c;if(null!=e&&(!(u=new q(e)).isInteger()&&(u.c||1!==u.s)||u.lt(_)))throw Error(i+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!b)return new q(g);for(t=new q(_),w=r=new q(_),n=d=new q(_),h=f(b),s=t.e=h.length-g.e-1,t.c[0]=a[(c=s%l)<0?l+c:c],e=!e||u.comparedTo(t)>0?s>0?t:w:u,c=L,L=1/0,u=new q(h),d.c[0]=0;p=y(u,t,0,1),1!=(o=r.plus(p.times(n))).comparedTo(e);)r=n,n=o,w=d.plus(p.times(o=w)),d=o,t=u.minus(p.times(o=t)),u=o;return o=y(e.minus(r),n,0,1),d=d.plus(o.times(w)),r=r.plus(o.times(n)),d.s=w.s=g.s,m=y(w,n,s*=2,C).minus(g).abs().comparedTo(y(d,r,s,C).minus(g).abs())<1?[w,n]:[d,r],L=c,m},$.toNumber=function(){return+V(this)},$.toPrecision=function(e,t){return null!=e&&p(e,1,u),F(this,e,t,2)},$.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=R||n>=D?h(f(r.c),n):g(f(r.c),n,"0"):10===e?t=g(f((r=H(new q(r),S+n+1,C)).c),r.e,"0"):(p(e,2,U.length,"Base"),t=x(g(f(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},$.valueOf=$.toJSON=function(){return V(this)},$._isBigNumber=!0,$[Symbol.toStringTag]="BigNumber",$[Symbol.for("nodejs.util.inspect.custom")]=$.valueOf,null!=v&&q.set(v),q}();function v(){}function y(e){return e()}function x(){return Object.create(null)}function k(e){e.forEach(y)}function z(e){return"function"==typeof e}function O(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function E(e,t){e.appendChild(t)}function N(e,t,r){const i=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!i.getElementById(t)){const e=$("style");e.id=t,e.textContent=r,function(e,t){E(e.head||e,t)}(i,e)}}function B(e,t,r){e.insertBefore(t,r||null)}function T(e){e.parentNode.removeChild(e)}function A(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function $(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function S(){return _(" ")}function C(e,t,r,i){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)}function R(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function D(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let j;function L(e){j=e}const P=[],G=[],M=[],I=[],U=Promise.resolve();let q=!1;function F(e){M.push(e)}let X=!1;const Y=new Set;function H(){if(!X){X=!0;do{for(let e=0;e<P.length;e+=1){const t=P[e];L(t),V(t.$$)}for(L(null),P.length=0;G.length;)G.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];Y.has(t)||(Y.add(t),t())}M.length=0}while(P.length);for(;I.length;)I.pop()();q=!1,X=!1,Y.clear()}}function V(e){if(null!==e.fragment){e.update(),k(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const Z=new Set;let W;function J(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function K(e,t,r,i){if(e&&e.o){if(Z.has(e))return;Z.add(e),W.c.push((()=>{Z.delete(e),i&&(r&&e.d(1),i())})),e.o(t)}}function Q(e,t,r,i){const{fragment:n,on_mount:o,on_destroy:l,after_update:s}=e.$$;n&&n.m(t,r),i||F((()=>{const t=o.map(y).filter(z);l?l.push(...t):k(t),e.$$.on_mount=[]})),s.forEach(F)}function ee(e,t){const r=e.$$;null!==r.fragment&&(k(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(P.push(e),q||(q=!0,U.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,r,i,n,o,l,s=[-1]){const a=j;L(e);const c=e.$$={fragment:null,ctx:null,props:o,update:v,not_equal:n,bound:x(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:x(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=r?r(e,t.props||{},((t,r,...i)=>{const o=i.length?i[0]:r;return c.ctx&&n(c.ctx[t],c.ctx[t]=o)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](o),u&&te(e,t)),r})):[],c.update(),u=!0,k(c.before_update),c.fragment=!!i&&i(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(T)}else c.fragment&&c.fragment.c();t.intro&&J(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),H()}L(a)}class ie{$destroy(){ee(this,1),this.$destroy=v}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ne(e){N(e,"svelte-1l39bkc",".divide-y.svelte-1l39bkc>.svelte-1l39bkc:not([hidden])~.svelte-1l39bkc:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200.svelte-1l39bkc>.svelte-1l39bkc:not([hidden])~.svelte-1l39bkc:not([hidden]){--tw-divide-opacity:1;border-color:rgba(229, 231, 235, var(--tw-divide-opacity))}.bg-white.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity))}.bg-gray-50.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-bg-opacity:1;background-color:rgba(249, 250, 251, var(--tw-bg-opacity))}.border-gray-200.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-border-opacity:1;border-color:rgba(229, 231, 235, var(--tw-border-opacity))}.border-t.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{border-top-width:1px}.border-b.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{border-bottom-width:1px}.flex.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.justify-between.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.font-medium.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{font-weight:500}.text-sm.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{font-size:0.875rem;line-height:1.25rem}.text-xs.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{font-size:0.75rem;line-height:1rem}.mb-2.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{margin-bottom:0.5rem}.mt-2.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{margin-top:0.5rem}.max-w-sm.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{max-width:24rem}.min-w-full.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{min-width:100%}.px-4.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-left:1rem;padding-right:1rem}.py-1.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-top:0.25rem;padding-bottom:0.25rem}.px-6.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-left:1.5rem;padding-right:1.5rem}.py-3.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-top:0.75rem;padding-bottom:0.75rem}.px-2.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-left:0.5rem;padding-right:0.5rem}.shadow.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-shadow-color:0, 0, 0;--tw-shadow:0 1px 3px 0 rgba(var(--tw-shadow-color), 0.1), 0 1px 2px 0 rgba(var(--tw-shadow-color), 0.06);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.text-center.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{text-align:center}.text-gray-900.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-text-opacity:1;color:rgba(17, 24, 39, var(--tw-text-opacity))}.text-gray-500.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-text-opacity:1;color:rgba(107, 114, 128, var(--tw-text-opacity))}.w-full.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{width:100%}@media(min-width: 640px){.sm\\:rounded-md.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{border-radius:0.375rem}}")}function oe(e,t,r){const i=e.slice();return i[5]=t[r],i[7]=r,i}function le(e,t,r){const i=e.slice();return i[8]=t[r],i}function se(e){let t,r,i,n=e[8]+"";return{c(){t=$("th"),r=_(n),i=S(),R(t,"scope","col"),R(t,"class","px-6 py-3 text-center text-xs font-medium text-gray-500 svelte-1l39bkc")},m(e,n){B(e,t,n),E(t,r),E(t,i)},p:v,d(e){e&&T(t)}}}function ae(e){let t,r,i,n,o,l,s,a,c,u,d,f,w,p,m,h,g,b,v,y=e[7]+1+"",x=e[5].title+"",k=e[5].difficulty+"",z=e[5].const.toFixed(1)+"",O=e[5].score+"",N=e[5].rating.toFixed(2)+"";return{c(){var e,E,B;t=$("tr"),r=$("td"),i=_(y),n=S(),o=$("td"),l=_(x),s=S(),a=$("td"),c=_(k),u=S(),d=$("td"),f=_(z),w=S(),p=$("td"),m=_(O),h=S(),g=$("td"),b=_(N),v=S(),R(r,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),R(o,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),e="max-width",E="40%",o.style.setProperty(e,E,B?"important":""),R(a,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),R(d,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),R(p,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),R(g,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),R(t,"class","svelte-1l39bkc")},m(e,y){B(e,t,y),E(t,r),E(r,i),E(t,n),E(t,o),E(o,l),E(t,s),E(t,a),E(a,c),E(t,u),E(t,d),E(d,f),E(t,w),E(t,p),E(p,m),E(t,h),E(t,g),E(g,b),E(t,v)},p(e,t){1&t&&x!==(x=e[5].title+"")&&D(l,x),1&t&&k!==(k=e[5].difficulty+"")&&D(c,k),1&t&&z!==(z=e[5].const.toFixed(1)+"")&&D(f,z),1&t&&O!==(O=e[5].score+"")&&D(m,O),1&t&&N!==(N=e[5].rating.toFixed(2)+"")&&D(b,N)},d(e){e&&T(t)}}}function ce(e){let t,r,i,n,o,l,s,a,c,u,d,f,w,p,m,h,g,b,y,x,k,z,O,N,C,j,L=e[1].best30Avg.toFixed(2)+"",P=e[1].maxAchievable.toFixed(2)+"",G=e[3],M=[];for(let t=0;t<G.length;t+=1)M[t]=se(le(e,G,t));let I=e[0],U=[];for(let t=0;t<I.length;t+=1)U[t]=ae(oe(e,I,t));return{c(){t=$("div"),r=$("h3"),r.textContent="Chuni Intl Viewer",i=S(),n=$("dl"),o=$("div"),l=$("dt"),l.textContent="Generated at",s=S(),a=$("dd"),a.textContent=`${e[2]}`,c=S(),u=$("div"),d=$("dt"),d.textContent="Best 30 Average",f=S(),w=$("dd"),p=_(L),m=S(),h=$("div"),g=$("dt"),g.textContent="Maximum Achievable Rating",b=S(),y=$("dd"),x=_(P),k=S(),z=$("table"),O=$("thead"),N=$("tr");for(let e=0;e<M.length;e+=1)M[e].c();C=S(),j=$("tbody");for(let e=0;e<U.length;e+=1)U[e].c();R(r,"class","font-medium text-gray-900 svelte-1l39bkc"),R(l,"class","text-gray-500 svelte-1l39bkc"),R(a,"class","text-gray-900 svelte-1l39bkc"),R(o,"class","py-1 flex justify-between text-sm font-medium svelte-1l39bkc"),R(d,"class","text-gray-500 svelte-1l39bkc"),R(w,"class","text-gray-900 svelte-1l39bkc"),R(u,"class","py-1 flex justify-between text-sm font-medium svelte-1l39bkc"),R(g,"class","text-gray-500 svelte-1l39bkc"),R(y,"class","text-gray-900 svelte-1l39bkc"),R(h,"class","py-1 flex justify-between text-sm font-medium svelte-1l39bkc"),R(n,"class","mt-2 border-t border-b border-gray-200 divide-y divide-gray-200 svelte-1l39bkc"),R(t,"class","bg-white shadow sm:rounded-md w-full max-w-sm px-4 mb-2 svelte-1l39bkc"),R(O,"class","bg-gray-50 svelte-1l39bkc"),R(j,"class","bg-white divide-y divide-gray-200 svelte-1l39bkc"),R(z,"class","min-w-full max-w-sm divide-y divide-gray-200 svelte-1l39bkc")},m(e,v){B(e,t,v),E(t,r),E(t,i),E(t,n),E(n,o),E(o,l),E(o,s),E(o,a),E(o,c),E(n,u),E(u,d),E(u,f),E(u,w),E(w,p),E(u,m),E(n,h),E(h,g),E(h,b),E(h,y),E(y,x),B(e,k,v),B(e,z,v),E(z,O),E(O,N);for(let e=0;e<M.length;e+=1)M[e].m(N,null);E(z,C),E(z,j);for(let e=0;e<U.length;e+=1)U[e].m(j,null)},p(e,[t]){if(2&t&&L!==(L=e[1].best30Avg.toFixed(2)+"")&&D(p,L),2&t&&P!==(P=e[1].maxAchievable.toFixed(2)+"")&&D(x,P),8&t){let r;for(G=e[3],r=0;r<G.length;r+=1){const i=le(e,G,r);M[r]?M[r].p(i,t):(M[r]=se(i),M[r].c(),M[r].m(N,null))}for(;r<M.length;r+=1)M[r].d(1);M.length=G.length}if(1&t){let r;for(I=e[0],r=0;r<I.length;r+=1){const i=oe(e,I,r);U[r]?U[r].p(i,t):(U[r]=ae(i),U[r].c(),U[r].m(j,null))}for(;r<U.length;r+=1)U[r].d(1);U.length=I.length}},i:v,o:v,d(e){e&&T(t),e&&T(k),e&&T(z),A(M,e),A(U,e)}}}function ue(e,t,r){let{songData:i}=t,{userRating:n}=t,o=(new Date).toLocaleDateString();return e.$$set=e=>{"songData"in e&&r(0,i=e.songData),"userRating"in e&&r(1,n=e.userRating)},[i,n,o,["#","Song Name","Difficulty","Constant","Score","Rating"]]}class de extends ie{constructor(e){super(),re(this,e,ue,ce,O,{songData:0,userRating:1},ne)}}function fe(e){const t=document.cookie.split(";").map((e=>decodeURIComponent(e.trim()))).map((e=>e.split("="))).find((t=>t[0]===e));return t?t[1]:""}const we={master:"MAS",expert:"EXP",advanced:"ADV",basic:"BAS",ultima:"ULT"};async function pe(){const e=Object.values(we);return(await Promise.all(e.map((e=>async function(e=we.master){const t=new FormData;t.append("genre","99"),t.append("token",fe("_t"));const r={[we.master]:"sendMaster",[we.expert]:"sendExpert",[we.advanced]:"sendAdvanced",[we.basic]:"sendBasic"},i=await fetch(`https://chunithm-net-eng.com/mobile/record/musicGenre/${r[e]}`,{headers:{"Cache-Control":"no-cache"},method:"POST",body:t}),n=await i.text(),o=document.createElement("div");o.innerHTML=n;const l=document.createDocumentFragment();l.appendChild(o);const s=[...l.querySelectorAll("form")];return s.shift(),s}(e))))).flatMap(((t,r)=>t.map((t=>{var i;return{title:t.querySelector(".music_title")?.innerText,score:(i=t.querySelector(".text_b")?.innerText,new b(i?+[...i].filter((e=>","!==e)).join(""):-1)),difficulty:e[r]}})).filter((e=>null!=e.title&&e.score.isGreaterThanOrEqualTo(0)))))}function me(e,t){let r=new b(0);return r=e.isGreaterThanOrEqualTo(1007500)?new b(2):e.isGreaterThanOrEqualTo(1005e3)?new b(1.5).plus(e.minus(1005e3).multipliedBy(10).dividedBy(5e4)):e.isGreaterThanOrEqualTo(1e6)?new b(1).plus(e.minus(1e6).multipliedBy(5).dividedBy(5e4)):e.isGreaterThanOrEqualTo(975e3)?e.minus(975e3).multipliedBy(2).dividedBy(5e4):e.isGreaterThanOrEqualTo(95e4)?new b(-1.5).plus(e.minus(95e4).multipliedBy(3).dividedBy(5e4)):e.isGreaterThanOrEqualTo(925e3)?new b(-3).plus(e.minus(925e3).multipliedBy(3).dividedBy(5e4)):new b(-5).plus(e.minus(9e5).multipliedBy(4).dividedBy(5e4)),t.plus(r).multipliedBy(100).decimalPlaces(0,b.ROUND_FLOOR).dividedBy(100)}function he(e,t){let r=new b(0);return r=e.isGreaterThanOrEqualTo(1009e3)?new b(2.15):e.isGreaterThanOrEqualTo(1007500)?new b(2).plus(e.minus(1007500).multipliedBy(5).dividedBy(5e4)):e.isGreaterThanOrEqualTo(1005e3)?new b(1.5).plus(e.minus(1005e3).multipliedBy(10).dividedBy(5e4)):e.isGreaterThanOrEqualTo(1e6)?new b(1).plus(e.minus(1e6).multipliedBy(5).dividedBy(5e4)):e.isGreaterThanOrEqualTo(975e3)?e.minus(975e3).multipliedBy(2).dividedBy(5e4):e.isGreaterThanOrEqualTo(95e4)?new b(-1.5).plus(e.minus(95e4).multipliedBy(3).dividedBy(5e4)):e.isGreaterThanOrEqualTo(925e3)?new b(-3).plus(e.minus(925e3).multipliedBy(3).dividedBy(5e4)):new b(-5).plus(e.minus(9e5).multipliedBy(4).dividedBy(5e4)),t.plus(r).multipliedBy(100).decimalPlaces(0,b.ROUND_FLOOR).dividedBy(100)}function ge(e){return e.sort(((e,t)=>t.minus(e).toNumber())).slice(0,30).reduce(((e,t)=>e.plus(t)),new b(0)).dividedBy(30)}function be(e){let t=e.reduce(((e,t)=>t.isGreaterThan(e)?t:e),new b(0));return ge(e).multipliedBy(30).plus(t.multipliedBy(10)).dividedBy(40)}function ve(e){N(e,"svelte-riiwcz",'*,::before,::after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}::moz-focus-inner{border-style:none;padding:0}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}[type=\'search\']{-webkit-appearance:textfield;outline-offset:-2px}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;padding:0;line-height:inherit;color:inherit}button,select{text-transform:none}button,[type=\'button\'],[type=\'reset\'],[type=\'submit\']{-webkit-appearance:button}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,[role="button"]{cursor:pointer}code,kbd,samp,pre{font-size:1em}fieldset{margin:0;padding:0}hr{height:0;color:inherit;border-top-width:1px}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}img{border-style:solid}input::placeholder{opacity:1;color:#9ca3af}input::webkit-input-placeholder{opacity:1;color:#9ca3af}input::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder{opacity:1;color:#9ca3af}input::-ms-input-placeholder{opacity:1;color:#9ca3af}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}legend{padding:0}ol,ul{list-style:none;margin:0;padding:0}progress{vertical-align:baseline}pre,code,kbd,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}summary{display:list-item}table{text-indent:0;border-color:inherit;border-collapse:collapse}textarea{resize:vertical}textarea::placeholder{opacity:1;color:#9ca3af}textarea::webkit-input-placeholder{opacity:1;color:#9ca3af}textarea::-moz-placeholder{opacity:1;color:#9ca3af}textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}textarea::-ms-input-placeholder{opacity:1;color:#9ca3af}.bg-white.svelte-riiwcz{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity))}.bg-gray-500.svelte-riiwcz{--tw-bg-opacity:1;background-color:rgba(107, 114, 128, var(--tw-bg-opacity))}.bg-indigo-600.svelte-riiwcz{--tw-bg-opacity:1;background-color:rgba(79, 70, 229, var(--tw-bg-opacity))}.hover\\:bg-indigo-700.svelte-riiwcz:hover{--tw-bg-opacity:1;background-color:rgba(67, 56, 202, var(--tw-bg-opacity))}.hover\\:bg-gray-50.svelte-riiwcz:hover{--tw-bg-opacity:1;background-color:rgba(249, 250, 251, var(--tw-bg-opacity))}.bg-opacity-75.svelte-riiwcz{--tw-bg-opacity:0.75}.border-transparent.svelte-riiwcz{border-color:transparent}.border-gray-300.svelte-riiwcz{--tw-border-opacity:1;border-color:rgba(209, 213, 219, var(--tw-border-opacity))}.rounded-lg.svelte-riiwcz{border-radius:0.5rem}.rounded-md.svelte-riiwcz{border-radius:0.375rem}.border.svelte-riiwcz{border-width:1px}.inline-block.svelte-riiwcz{display:inline-block}.flex.svelte-riiwcz{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.inline-flex.svelte-riiwcz{display:-webkit-inline-box;display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex}.hidden.svelte-riiwcz{display:none}.items-end.svelte-riiwcz{-webkit-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end}.justify-center.svelte-riiwcz{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.font-medium.svelte-riiwcz{font-weight:500}.h-screen.svelte-riiwcz{height:100vh}.text-lg.svelte-riiwcz{font-size:1.125rem;line-height:1.75rem}.text-sm.svelte-riiwcz{font-size:0.875rem;line-height:1.25rem}.text-xs.svelte-riiwcz{font-size:0.75rem;line-height:1rem}.text-base.svelte-riiwcz{font-size:1rem;line-height:1.5rem}.leading-6.svelte-riiwcz{line-height:1.5rem}.mt-3.svelte-riiwcz{margin-top:0.75rem}.mt-2.svelte-riiwcz{margin-top:0.5rem}.mb-2.svelte-riiwcz{margin-bottom:0.5rem}.mt-5.svelte-riiwcz{margin-top:1.25rem}.min-h-screen.svelte-riiwcz{min-height:100vh}.min-w-max.svelte-riiwcz{min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}.focus\\:outline-none.svelte-riiwcz:focus{outline:2px solid transparent;outline-offset:2px}.overflow-hidden.svelte-riiwcz{overflow:hidden}.overflow-y-auto.svelte-riiwcz{overflow-y:auto}.p-4.svelte-riiwcz{padding:1rem}.px-4.svelte-riiwcz{padding-left:1rem;padding-right:1rem}.py-2.svelte-riiwcz{padding-top:0.5rem;padding-bottom:0.5rem}.pt-4.svelte-riiwcz{padding-top:1rem}.pb-20.svelte-riiwcz{padding-bottom:5rem}.pt-5.svelte-riiwcz{padding-top:1.25rem}.pb-4.svelte-riiwcz{padding-bottom:1rem}.fixed.svelte-riiwcz{position:fixed}.inset-0.svelte-riiwcz{top:0px;right:0px;bottom:0px;left:0px}.shadow-xl.svelte-riiwcz{--tw-shadow-color:0, 0, 0;--tw-shadow:0 20px 25px -5px rgba(var(--tw-shadow-color), 0.1), 0 10px 10px -5px rgba(var(--tw-shadow-color), 0.04);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm.svelte-riiwcz{--tw-shadow-color:0, 0, 0;--tw-shadow:0 1px 2px 0 rgba(var(--tw-shadow-color), 0.05);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\\:ring-2.svelte-riiwcz:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\\:ring-offset-2.svelte-riiwcz:focus{--tw-ring-offset-width:2px}.focus\\:ring-indigo-500.svelte-riiwcz:focus{--tw-ring-opacity:1;--tw-ring-color:rgba(99, 102, 241, var(--tw-ring-opacity))}.text-left.svelte-riiwcz{text-align:left}.text-center.svelte-riiwcz{text-align:center}.text-gray-900.svelte-riiwcz{--tw-text-opacity:1;color:rgba(17, 24, 39, var(--tw-text-opacity))}.text-gray-500.svelte-riiwcz{--tw-text-opacity:1;color:rgba(107, 114, 128, var(--tw-text-opacity))}.text-blue-600.svelte-riiwcz{--tw-text-opacity:1;color:rgba(37, 99, 235, var(--tw-text-opacity))}.text-white.svelte-riiwcz{--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity))}.text-gray-700.svelte-riiwcz{--tw-text-opacity:1;color:rgba(55, 65, 81, var(--tw-text-opacity))}.align-bottom.svelte-riiwcz{vertical-align:bottom}.w-full.svelte-riiwcz{width:100%}.w-screen.svelte-riiwcz{width:100vw}.z-10.svelte-riiwcz{z-index:10}.transform.svelte-riiwcz{--tw-rotate:0;--tw-rotate-x:0;--tw-rotate-y:0;--tw-rotate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-skew-x:0;--tw-skew-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;-webkit-transform:rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z));-ms-transform:rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z));transform:rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z))}.transition-opacity.svelte-riiwcz{-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-o-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;transition-duration:150ms}.transition-all.svelte-riiwcz{-webkit-transition-property:all;-o-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-o-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;transition-duration:150ms}@media(min-width: 640px){.sm\\:block.svelte-riiwcz{display:block}.sm\\:inline-block.svelte-riiwcz{display:inline-block}.sm\\:grid.svelte-riiwcz{display:-ms-grid;display:grid}.sm\\:h-screen.svelte-riiwcz{height:100vh}.sm\\:text-sm.svelte-riiwcz{font-size:0.875rem;line-height:1.25rem}.sm\\:my-8.svelte-riiwcz{margin-top:2rem;margin-bottom:2rem}.sm\\:mt-5.svelte-riiwcz{margin-top:1.25rem}.sm\\:mt-6.svelte-riiwcz{margin-top:1.5rem}.sm\\:mt-0.svelte-riiwcz{margin-top:0px}.sm\\:max-w-lg.svelte-riiwcz{max-width:32rem}.sm\\:p-0.svelte-riiwcz{padding:0px}.sm\\:p-6.svelte-riiwcz{padding:1.5rem}.sm\\:align-middle.svelte-riiwcz{vertical-align:middle}.sm\\:w-full.svelte-riiwcz{width:100%}.sm\\:gap-3.svelte-riiwcz{grid-gap:0.75rem;gap:0.75rem}.sm\\:grid-flow-row-dense.svelte-riiwcz{grid-auto-flow:row dense}.sm\\:grid-cols-2.svelte-riiwcz{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\\:col-start-2.svelte-riiwcz{grid-column-start:2}.sm\\:col-start-1.svelte-riiwcz{grid-column-start:1}}')}function ye(e){let t,r,i;return r=new de({props:{songData:e[1],userRating:e[2]}}),{c(){var e;t=$("div"),(e=r.$$.fragment)&&e.c(),R(t,"class","p-4 svelte-riiwcz")},m(e,n){B(e,t,n),Q(r,t,null),i=!0},p(e,t){const i={};2&t&&(i.songData=e[1]),4&t&&(i.userRating=e[2]),r.$set(i)},i(e){i||(J(r.$$.fragment,e),i=!0)},o(e){K(r.$$.fragment,e),i=!1},d(e){e&&T(t),ee(r)}}}function xe(e){let t;return{c(){t=$("div"),t.textContent="Loading...",R(t,"class","w-screen h-screen svelte-riiwcz")},m(e,r){B(e,t,r)},p:v,i:v,o:v,d(e){e&&T(t)}}}function ke(e){let t,r,i,n,o,l,s,a,c,u,d,f,w,p,m;return{c(){t=$("div"),r=$("div"),i=$("div"),n=S(),o=$("span"),o.textContent="​",l=S(),s=$("div"),a=$("div"),a.innerHTML='<div class="mt-3 text-center sm:mt-5 svelte-riiwcz"><h3 class="text-lg leading-6 font-medium text-gray-900 svelte-riiwcz" id="modal-title">Select Version</h3> \n              <div class="mt-2 svelte-riiwcz"><p class="text-sm text-gray-500 mb-2 svelte-riiwcz">Select the Chunithm version you want to use for rating\n                  calculation.</p> \n                <p class="text-xs text-gray-500 svelte-riiwcz">This is a fork of <a class="text-blue-600 svelte-riiwcz" target="_blank" href="https://github.com/kyroslee/chuni_intl_viewer">kyroslee/chuni_intl_viewer\n                  </a>. If you prefer the user interface of original version,\n                  please revert to the old script.</p></div></div>',c=S(),u=$("div"),d=$("button"),d.textContent="International",f=S(),w=$("button"),w.textContent="Chunithm New",R(i,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity svelte-riiwcz"),R(i,"aria-hidden","true"),R(o,"class","hidden sm:inline-block sm:align-middle sm:h-screen svelte-riiwcz"),R(o,"aria-hidden","true"),R(d,"type","button"),R(d,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm svelte-riiwcz"),R(w,"type","button"),R(w,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm svelte-riiwcz"),R(u,"class","mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense svelte-riiwcz"),R(s,"class","inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6 svelte-riiwcz"),R(r,"class","flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0 svelte-riiwcz"),R(t,"class","fixed z-10 inset-0 overflow-y-auto svelte-riiwcz"),R(t,"aria-labelledby","modal-title"),R(t,"role","dialog"),R(t,"aria-modal","true")},m(h,g){B(h,t,g),E(t,r),E(r,i),E(r,n),E(r,o),E(r,l),E(r,s),E(s,a),E(s,c),E(s,u),E(u,d),E(u,f),E(u,w),p||(m=[C(d,"click",e[4]),C(w,"click",e[5])],p=!0)},p:v,i:v,o:v,d(e){e&&T(t),p=!1,k(m)}}}function ze(e){let t,r,i,n;const o=[ke,xe,ye],l=[];function s(e,t){return null==e[0]?0:e[0]?1:2}return r=s(e),i=l[r]=o[r](e),{c(){t=$("div"),i.c(),R(t,"class","bg-white min-w-max svelte-riiwcz")},m(e,i){B(e,t,i),l[r].m(t,null),n=!0},p(e,[n]){let a=r;r=s(e),r===a?l[r].p(e,n):(W={r:0,c:[],p:W},K(l[a],1,1,(()=>{l[a]=null})),W.r||k(W.c),W=W.p,i=l[r],i?i.p(e,n):(i=l[r]=o[r](e),i.c()),J(i,1),i.m(t,null))},i(e){n||(J(i),n=!0)},o(e){K(i),n=!1},d(e){e&&T(t),l[r].d()}}}function Oe(e,t,r){let i=null,n=[],o={best30Avg:0,maxAchievable:0};async function l(e){r(0,i=!0);const t=await pe();let l=[];l=e?await async function(){return await fetch("https://api.chunirec.net/2.0/music/showall.json?region=jp&token=252db1d77e53f52fd85c5b346fef7c90e345b3b3f0b12018a2074298e4b35182").then((e=>e.json()))}():await async function(){return await fetch("https://api.chunirec.net/2.0/music/showall.json?region=jp2&token=252db1d77e53f52fd85c5b346fef7c90e345b3b3f0b12018a2074298e4b35182").then((e=>e.json()))}(),r(1,n=t.map((t=>{const r=l.find((e=>e.meta.title===t.title))?.data?.[t.difficulty]?.const??0;return{...t,const:r,rating:(e?me:he)(t.score,new b(r))}})).sort(((e,t)=>t.rating.minus(e.rating).toNumber())));const s=n.map((e=>e.rating));r(2,o={best30Avg:ge(s),maxAchievable:be(s)}),r(0,i=!1)}return[i,n,o,l,()=>l(!0),()=>l(!1)]}class Ee extends ie{constructor(e){super(),re(this,e,Oe,ze,O,{},ve)}}(async()=>{if("chunithm-net-eng.com"!==window.location.hostname)return alert("[chuni_intl_viewer] This tools could only be used under chunithm-net international."),void(window.location.href="https://chunithm-net-eng.com/");if(!fe("_t"))return alert("[chuni-intl-viewer] Token not found. Please login first."),void(window.location.href="https://chunithm-net-eng.com/");const e=document.body.attachShadow({mode:"open"});new Ee({target:e})})()}();
//# sourceMappingURL=main.min.js.map
