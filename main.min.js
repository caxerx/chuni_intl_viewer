!function(){"use strict";var e=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,t=Math.ceil,n=Math.floor,r="[BigNumber Error] ",i=r+"Number primitive has more than 15 significant digits: ",o=1e14,s=14,a=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,u=1e9;function d(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=s-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function p(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,l=e.e,c=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=l==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>c^n?1:-1;for(a=(l=i.length)<(c=o.length)?l:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return l==c?0:l>c^n?1:-1}function m(e,t,i,o){if(e<t||e>i||e!==n(e))throw Error(r+(o||"Argument")+("number"==typeof e?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return d(e.e/s)==t&&e.c[t]%2!=0}function h(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var b=function b(v){var y,x,k,O,E,N,B,A,T,$,z=I.prototype={constructor:I,toString:null,valueOf:null},_=new I(1),S=20,R=4,C=-7,D=21,j=-1e7,L=1e7,P=!1,G=1,M=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz";function I(t,r){var o,l,c,u,d,f,p,g,h=this;if(!(h instanceof I))return new I(t,r);if(null==r){if(t&&!0===t._isBigNumber)return h.s=t.s,void(!t.c||t.e>L?h.c=h.e=null:t.e<j?h.c=[h.e=0]:(h.e=t.e,h.c=t.c.slice()));if((f="number"==typeof t)&&0*t==0){if(h.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,d=t;d>=10;d/=10,u++);return void(u>L?h.c=h.e=null:(h.e=u,h.c=[t]))}g=String(t)}else{if(!e.test(g=String(t)))return k(h,g,f);h.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(u=g.indexOf("."))>-1&&(g=g.replace(".","")),(d=g.search(/e/i))>0?(u<0&&(u=d),u+=+g.slice(d+1),g=g.substring(0,d)):u<0&&(u=g.length)}else{if(m(r,2,q.length,"Base"),10==r)return H(h=new I(t),S+h.e+1,R);if(g=String(t),f="number"==typeof t){if(0*t!=0)return k(h,g,f,r);if(h.s=1/t<0?(g=g.slice(1),-1):1,I.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(i+t)}else h.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(o=q.slice(0,r),u=d=0,p=g.length;d<p;d++)if(o.indexOf(l=g.charAt(d))<0){if("."==l){if(d>u){u=p;continue}}else if(!c&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){c=!0,d=-1,u=0;continue}return k(h,String(t),f,r)}f=!1,(u=(g=x(g,r,10,h.s)).indexOf("."))>-1?g=g.replace(".",""):u=g.length}for(d=0;48===g.charCodeAt(d);d++);for(p=g.length;48===g.charCodeAt(--p););if(g=g.slice(d,++p)){if(p-=d,f&&I.DEBUG&&p>15&&(t>a||t!==n(t)))throw Error(i+h.s*t);if((u=u-d-1)>L)h.c=h.e=null;else if(u<j)h.c=[h.e=0];else{if(h.e=u,h.c=[],d=(u+1)%s,u<0&&(d+=s),d<p){for(d&&h.c.push(+g.slice(0,d)),p-=s;d<p;)h.c.push(+g.slice(d,d+=s));d=s-(g=g.slice(d)).length}else d-=p;for(;d--;g+="0");h.c.push(+g)}}else h.c=[h.e=0]}function F(e,t,n,r){var i,o,s,a,l;if(null==n?n=R:m(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)l=f(e.c),l=1==r||2==r&&(s<=C||s>=D)?h(l,s):w(l,s,"0");else if(o=(e=H(new I(e),t,n)).e,a=(l=f(e.c)).length,1==r||2==r&&(t<=o||o<=C)){for(;a<t;l+="0",a++);l=h(l,o)}else if(t-=s,l=w(l,o,"0"),o+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-a)>0)for(o+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function X(e,t){for(var n,r=1,i=new I(e[0]);r<e.length;r++){if(!(n=new I(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function Y(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*s-1)>L?e.c=e.e=null:n<j?e.c=[e.e=0]:(e.e=n,e.c=t),e}function H(e,r,i,a){var c,u,d,f,p,m,g,h=e.c,w=l;if(h){e:{for(c=1,f=h[0];f>=10;f/=10,c++);if((u=r-c)<0)u+=s,d=r,g=(p=h[m=0])/w[c-d-1]%10|0;else if((m=t((u+1)/s))>=h.length){if(!a)break e;for(;h.length<=m;h.push(0));p=g=0,c=1,d=(u%=s)-s+1}else{for(p=f=h[m],c=1;f>=10;f/=10,c++);g=(d=(u%=s)-s+c)<0?0:p/w[c-d-1]%10|0}if(a=a||r<0||null!=h[m+1]||(d<0?p:p%w[c-d-1]),a=i<4?(g||a)&&(0==i||i==(e.s<0?3:2)):g>5||5==g&&(4==i||a||6==i&&(u>0?d>0?p/w[c-d]:0:h[m-1])%10&1||i==(e.s<0?8:7)),r<1||!h[0])return h.length=0,a?(r-=e.e+1,h[0]=w[(s-r%s)%s],e.e=-r||0):h[0]=e.e=0,e;if(0==u?(h.length=m,f=1,m--):(h.length=m+1,f=w[s-u],h[m]=d>0?n(p/w[c-d]%w[d])*f:0),a)for(;;){if(0==m){for(u=1,d=h[0];d>=10;d/=10,u++);for(d=h[0]+=f,f=1;d>=10;d/=10,f++);u!=f&&(e.e++,h[0]==o&&(h[0]=1));break}if(h[m]+=f,h[m]!=o)break;h[m--]=0,f=1}for(u=h.length;0===h[--u];h.pop());}e.e>L?e.c=e.e=null:e.e<j&&(e.c=[e.e=0])}return e}function V(e){var t,n=e.e;return null===n?e.toString():(t=f(e.c),t=n<=C||n>=D?h(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return I.clone=b,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(r+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(n=e[t],0,u,t),S=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(n=e[t],0,8,t),R=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(m(n[0],-u,0,t),m(n[1],0,u,t),C=n[0],D=n[1]):(m(n,-u,u,t),C=-(D=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)m(n[0],-u,-1,t),m(n[1],1,u,t),j=n[0],L=n[1];else{if(m(n,-u,u,t),!n)throw Error(r+t+" cannot be zero: "+n);j=-(L=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(r+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw P=!n,Error(r+"crypto unavailable");P=n}else P=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(n=e[t],0,9,t),G=n),e.hasOwnProperty(t="POW_PRECISION")&&(m(n=e[t],0,u,t),M=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(r+t+" not an object: "+n);U=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(r+t+" invalid: "+n);q=n}}return{DECIMAL_PLACES:S,ROUNDING_MODE:R,EXPONENTIAL_AT:[C,D],RANGE:[j,L],CRYPTO:P,MODULO_MODE:G,POW_PRECISION:M,FORMAT:U,ALPHABET:q}},I.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!I.DEBUG)return!0;var t,i,a=e.c,l=e.e,c=e.s;e:if("[object Array]"=={}.toString.call(a)){if((1===c||-1===c)&&l>=-u&&l<=u&&l===n(l)){if(0===a[0]){if(0===l&&1===a.length)return!0;break e}if((t=(l+1)%s)<1&&(t+=s),String(a[0]).length==t){for(t=0;t<a.length;t++)if((i=a[t])<0||i>=o||i!==n(i))break e;if(0!==i)return!0}}}else if(null===a&&null===l&&(null===c||1===c||-1===c))return!0;throw Error(r+"Invalid BigNumber: "+e)},I.maximum=I.max=function(){return X(arguments,z.lt)},I.minimum=I.min=function(){return X(arguments,z.gt)},I.random=(O=9007199254740992,E=Math.random()*O&2097151?function(){return n(Math.random()*O)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var i,o,a,c,d,f=0,p=[],g=new I(_);if(null==e?e=S:m(e,0,u),c=t(e/s),P)if(crypto.getRandomValues){for(i=crypto.getRandomValues(new Uint32Array(c*=2));f<c;)(d=131072*i[f]+(i[f+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),i[f]=o[0],i[f+1]=o[1]):(p.push(d%1e14),f+=2);f=c/2}else{if(!crypto.randomBytes)throw P=!1,Error(r+"crypto unavailable");for(i=crypto.randomBytes(c*=7);f<c;)(d=281474976710656*(31&i[f])+1099511627776*i[f+1]+4294967296*i[f+2]+16777216*i[f+3]+(i[f+4]<<16)+(i[f+5]<<8)+i[f+6])>=9e15?crypto.randomBytes(7).copy(i,f):(p.push(d%1e14),f+=7);f=c/7}if(!P)for(;f<c;)(d=E())<9e15&&(p[f++]=d%1e14);for(c=p[--f],e%=s,c&&e&&(d=l[s-e],p[f]=n(c/d)*d);0===p[f];p.pop(),f--);if(f<0)p=[a=0];else{for(a=-1;0===p[0];p.splice(0,1),a-=s);for(f=1,d=p[0];d>=10;d/=10,f++);f<s&&(a-=s-f)}return g.e=a,g.c=p,g}),I.sum=function(){for(var e=1,t=arguments,n=new I(t[0]);e<t.length;)n=n.plus(t[e++]);return n},x=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,l=e.length;a<l;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(n,r,i,o,s){var a,l,c,u,d,p,m,g,h=n.indexOf("."),b=S,v=R;for(h>=0&&(u=M,M=0,n=n.replace(".",""),p=(g=new I(r)).pow(n.length-h),M=u,g.c=t(w(f(p.c),p.e,"0"),10,i,e),g.e=g.c.length),c=u=(m=t(n,r,i,s?(a=q,e):(a=e,q))).length;0==m[--u];m.pop());if(!m[0])return a.charAt(0);if(h<0?--c:(p.c=m,p.e=c,p.s=o,m=(p=y(p,g,b,v,i)).c,d=p.r,c=p.e),h=m[l=c+b+1],u=i/2,d=d||l<0||null!=m[l+1],d=v<4?(null!=h||d)&&(0==v||v==(p.s<0?3:2)):h>u||h==u&&(4==v||d||6==v&&1&m[l-1]||v==(p.s<0?8:7)),l<1||!m[0])n=d?w(a.charAt(1),-b,a.charAt(0)):a.charAt(0);else{if(m.length=l,d)for(--i;++m[--l]>i;)m[l]=0,l||(++c,m=[1].concat(m));for(u=m.length;!m[--u];);for(h=0,n="";h<=u;n+=a.charAt(m[h++]));n=w(n,c,a.charAt(0))}return n}}(),y=function(){function e(e,t,n){var r,i,o,s,a=0,l=e.length,u=t%c,d=t/c|0;for(e=e.slice();l--;)a=((i=u*(o=e[l]%c)+(r=d*o+(s=e[l]/c|0)*u)%c*c+a)/n|0)+(r/c|0)+d*s,e[l]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,a,l,c,u){var f,p,m,g,h,w,b,v,y,x,k,O,E,N,B,A,T,$=i.s==a.s?1:-1,z=i.c,_=a.c;if(!(z&&z[0]&&_&&_[0]))return new I(i.s&&a.s&&(z?!_||z[0]!=_[0]:_)?z&&0==z[0]||!_?0*$:$/0:NaN);for(y=(v=new I($)).c=[],$=l+(p=i.e-a.e)+1,u||(u=o,p=d(i.e/s)-d(a.e/s),$=$/s|0),m=0;_[m]==(z[m]||0);m++);if(_[m]>(z[m]||0)&&p--,$<0)y.push(1),g=!0;else{for(N=z.length,A=_.length,m=0,$+=2,(h=n(u/(_[0]+1)))>1&&(_=e(_,h,u),z=e(z,h,u),A=_.length,N=z.length),E=A,k=(x=z.slice(0,A)).length;k<A;x[k++]=0);T=_.slice(),T=[0].concat(T),B=_[0],_[1]>=u/2&&B++;do{if(h=0,(f=t(_,x,A,k))<0){if(O=x[0],A!=k&&(O=O*u+(x[1]||0)),(h=n(O/B))>1)for(h>=u&&(h=u-1),b=(w=e(_,h,u)).length,k=x.length;1==t(w,x,b,k);)h--,r(w,A<b?T:_,b,u),b=w.length,f=1;else 0==h&&(f=h=1),b=(w=_.slice()).length;if(b<k&&(w=[0].concat(w)),r(x,w,k,u),k=x.length,-1==f)for(;t(_,x,A,k)<1;)h++,r(x,A<k?T:_,k,u),k=x.length}else 0===f&&(h++,x=[0]);y[m++]=h,x[0]?x[k++]=z[E]||0:(x=[z[E]],k=1)}while((E++<N||null!=x[0])&&$--);g=null!=x[0],y[0]||y.splice(0,1)}if(u==o){for(m=1,$=y[0];$>=10;$/=10,m++);H(v,l+(v.e=m+p*s-1)+1,c,g)}else v.e=p,v.r=+g;return v}}(),N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,A=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,n,i){var o,s=n?t:t.replace($,"");if(T.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(N,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,i&&i!=o?e:t})),i&&(o=i,s=s.replace(B,"$1").replace(A,"0.$1")),t!=s))return new I(s,o);if(I.DEBUG)throw Error(r+"Not a"+(i?" base "+i:"")+" number: "+t);e.s=null}e.c=e.e=null},z.absoluteValue=z.abs=function(){var e=new I(this);return e.s<0&&(e.s=1),e},z.comparedTo=function(e,t){return p(this,new I(e,t))},z.decimalPlaces=z.dp=function(e,t){var n,r,i,o=this;if(null!=e)return m(e,0,u),null==t?t=R:m(t,0,8),H(new I(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-d(this.e/s))*s,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},z.dividedBy=z.div=function(e,t){return y(this,new I(e,t),S,R)},z.dividedToIntegerBy=z.idiv=function(e,t){return y(this,new I(e,t),0,1)},z.exponentiatedBy=z.pow=function(e,i){var o,a,l,c,u,d,f,p,m=this;if((e=new I(e)).c&&!e.isInteger())throw Error(r+"Exponent not an integer: "+V(e));if(null!=i&&(i=new I(i)),u=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return p=new I(Math.pow(+V(m),u?2-g(e):+V(e))),i?p.mod(i):p;if(d=e.s<0,i){if(i.c?!i.c[0]:!i.s)return new I(NaN);(a=!d&&m.isInteger()&&i.isInteger())&&(m=m.mod(i))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||u&&m.c[1]>=24e7:m.c[0]<8e13||u&&m.c[0]<=9999975e7)))return c=m.s<0&&g(e)?-0:0,m.e>-1&&(c=1/c),new I(d?1/c:c);M&&(c=t(M/s+2))}for(u?(o=new I(.5),d&&(e.s=1),f=g(e)):f=(l=Math.abs(+V(e)))%2,p=new I(_);;){if(f){if(!(p=p.times(m)).c)break;c?p.c.length>c&&(p.c.length=c):a&&(p=p.mod(i))}if(l){if(0===(l=n(l/2)))break;f=l%2}else if(H(e=e.times(o),e.e+1,1),e.e>14)f=g(e);else{if(0===(l=+V(e)))break;f=l%2}m=m.times(m),c?m.c&&m.c.length>c&&(m.c.length=c):a&&(m=m.mod(i))}return a?p:(d&&(p=_.div(p)),i?p.mod(i):c?H(p,M,R,undefined):p)},z.integerValue=function(e){var t=new I(this);return null==e?e=R:m(e,0,8),H(t,t.e+1,e)},z.isEqualTo=z.eq=function(e,t){return 0===p(this,new I(e,t))},z.isFinite=function(){return!!this.c},z.isGreaterThan=z.gt=function(e,t){return p(this,new I(e,t))>0},z.isGreaterThanOrEqualTo=z.gte=function(e,t){return 1===(t=p(this,new I(e,t)))||0===t},z.isInteger=function(){return!!this.c&&d(this.e/s)>this.c.length-2},z.isLessThan=z.lt=function(e,t){return p(this,new I(e,t))<0},z.isLessThanOrEqualTo=z.lte=function(e,t){return-1===(t=p(this,new I(e,t)))||0===t},z.isNaN=function(){return!this.s},z.isNegative=function(){return this.s<0},z.isPositive=function(){return this.s>0},z.isZero=function(){return!!this.c&&0==this.c[0]},z.minus=function(e,t){var n,r,i,a,l=this,c=l.s;if(t=(e=new I(e,t)).s,!c||!t)return new I(NaN);if(c!=t)return e.s=-t,l.plus(e);var u=l.e/s,f=e.e/s,p=l.c,m=e.c;if(!u||!f){if(!p||!m)return p?(e.s=-t,e):new I(m?l:NaN);if(!p[0]||!m[0])return m[0]?(e.s=-t,e):new I(p[0]?l:3==R?-0:0)}if(u=d(u),f=d(f),p=p.slice(),c=u-f){for((a=c<0)?(c=-c,i=p):(f=u,i=m),i.reverse(),t=c;t--;i.push(0));i.reverse()}else for(r=(a=(c=p.length)<(t=m.length))?c:t,c=t=0;t<r;t++)if(p[t]!=m[t]){a=p[t]<m[t];break}if(a&&(i=p,p=m,m=i,e.s=-e.s),(t=(r=m.length)-(n=p.length))>0)for(;t--;p[n++]=0);for(t=o-1;r>c;){if(p[--r]<m[r]){for(n=r;n&&!p[--n];p[n]=t);--p[n],p[r]+=o}p[r]-=m[r]}for(;0==p[0];p.splice(0,1),--f);return p[0]?Y(e,p,f):(e.s=3==R?-1:1,e.c=[e.e=0],e)},z.modulo=z.mod=function(e,t){var n,r,i=this;return e=new I(e,t),!i.c||!e.s||e.c&&!e.c[0]?new I(NaN):!e.c||i.c&&!i.c[0]?new I(i):(9==G?(r=e.s,e.s=1,n=y(i,e,0,3),e.s=r,n.s*=r):n=y(i,e,0,G),(e=i.minus(n.times(e))).c[0]||1!=G||(e.s=i.s),e)},z.multipliedBy=z.times=function(e,t){var n,r,i,a,l,u,f,p,m,g,h,w,b,v,y,x=this,k=x.c,O=(e=new I(e,t)).c;if(!(k&&O&&k[0]&&O[0]))return!x.s||!e.s||k&&!k[0]&&!O||O&&!O[0]&&!k?e.c=e.e=e.s=null:(e.s*=x.s,k&&O?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=d(x.e/s)+d(e.e/s),e.s*=x.s,(f=k.length)<(g=O.length)&&(b=k,k=O,O=b,i=f,f=g,g=i),i=f+g,b=[];i--;b.push(0));for(v=o,y=c,i=g;--i>=0;){for(n=0,h=O[i]%y,w=O[i]/y|0,a=i+(l=f);a>i;)n=((p=h*(p=k[--l]%y)+(u=w*p+(m=k[l]/y|0)*h)%y*y+b[a]+n)/v|0)+(u/y|0)+w*m,b[a--]=p%v;b[a]=n}return n?++r:b.splice(0,1),Y(e,b,r)},z.negated=function(){var e=new I(this);return e.s=-e.s||null,e},z.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new I(e,t)).s,!i||!t)return new I(NaN);if(i!=t)return e.s=-t,r.minus(e);var a=r.e/s,l=e.e/s,c=r.c,u=e.c;if(!a||!l){if(!c||!u)return new I(i/0);if(!c[0]||!u[0])return u[0]?e:new I(c[0]?r:0*i)}if(a=d(a),l=d(l),c=c.slice(),i=a-l){for(i>0?(l=a,n=u):(i=-i,n=c),n.reverse();i--;n.push(0));n.reverse()}for((i=c.length)-(t=u.length)<0&&(n=u,u=c,c=n,t=i),i=0;t;)i=(c[--t]=c[t]+u[t]+i)/o|0,c[t]=o===c[t]?0:c[t]%o;return i&&(c=[i].concat(c),++l),Y(e,c,l)},z.precision=z.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return m(e,1,u),null==t?t=R:m(t,0,8),H(new I(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*s+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},z.shiftedBy=function(e){return m(e,-9007199254740991,a),this.times("1e"+e)},z.squareRoot=z.sqrt=function(){var e,t,n,r,i,o=this,s=o.c,a=o.s,l=o.e,c=S+4,u=new I("0.5");if(1!==a||!s||!s[0])return new I(!a||a<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(a=Math.sqrt(+V(o)))||a==1/0?(((t=f(s)).length+l)%2==0&&(t+="0"),a=Math.sqrt(+t),l=d((l+1)/2)-(l<0||l%2),n=new I(t=a==1/0?"5e"+l:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new I(a+""),n.c[0])for((a=(l=n.e)+c)<3&&(a=0);;)if(i=n,n=u.times(i.plus(y(o,i,c,1))),f(i.c).slice(0,a)===(t=f(n.c)).slice(0,a)){if(n.e<l&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(n,n.e+S+2,1),e=!n.times(n).eq(o));break}if(!r&&(H(i,i.e+S+2,0),i.times(i).eq(o))){n=i;break}c+=4,a+=4,r=1}return H(n,n.e+S+1,R,e)},z.toExponential=function(e,t){return null!=e&&(m(e,0,u),e++),F(this,e,t,1)},z.toFixed=function(e,t){return null!=e&&(m(e,0,u),e=e+this.e+1),F(this,e,t)},z.toFormat=function(e,t,n){var i,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=U;else if("object"!=typeof n)throw Error(r+"Argument not an object: "+n);if(i=o.toFixed(e,t),o.c){var s,a=i.split("."),l=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",d=a[0],f=a[1],p=o.s<0,m=p?d.slice(1):d,g=m.length;if(c&&(s=l,l=c,c=s,g-=s),l>0&&g>0){for(s=g%l||l,d=m.substr(0,s);s<g;s+=l)d+=u+m.substr(s,l);c>0&&(d+=u+m.slice(s)),p&&(d="-"+d)}i=f?d+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):d}return(n.prefix||"")+i+(n.suffix||"")},z.toFraction=function(e){var t,n,i,o,a,c,u,d,p,m,g,h,w=this,b=w.c;if(null!=e&&(!(u=new I(e)).isInteger()&&(u.c||1!==u.s)||u.lt(_)))throw Error(r+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!b)return new I(w);for(t=new I(_),p=n=new I(_),i=d=new I(_),h=f(b),a=t.e=h.length-w.e-1,t.c[0]=l[(c=a%s)<0?s+c:c],e=!e||u.comparedTo(t)>0?a>0?t:p:u,c=L,L=1/0,u=new I(h),d.c[0]=0;m=y(u,t,0,1),1!=(o=n.plus(m.times(i))).comparedTo(e);)n=i,i=o,p=d.plus(m.times(o=p)),d=o,t=u.minus(m.times(o=t)),u=o;return o=y(e.minus(n),i,0,1),d=d.plus(o.times(p)),n=n.plus(o.times(i)),d.s=p.s=w.s,g=y(p,i,a*=2,R).minus(w).abs().comparedTo(y(d,n,a,R).minus(w).abs())<1?[p,i]:[d,n],L=c,g},z.toNumber=function(){return+V(this)},z.toPrecision=function(e,t){return null!=e&&m(e,1,u),F(this,e,t,2)},z.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=C||i>=D?h(f(n.c),i):w(f(n.c),i,"0"):10===e?t=w(f((n=H(new I(n),S+i+1,R)).c),n.e,"0"):(m(e,2,q.length,"Base"),t=x(w(f(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},z.valueOf=z.toJSON=function(){return V(this)},z._isBigNumber=!0,z[Symbol.toStringTag]="BigNumber",z[Symbol.for("nodejs.util.inspect.custom")]=z.valueOf,null!=v&&I.set(v),I}();function v(){}function y(e){return e()}function x(){return Object.create(null)}function k(e){e.forEach(y)}function O(e){return"function"==typeof e}function E(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function N(e,t){e.appendChild(t)}function B(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!r.getElementById(t)){const e=z("style");e.id=t,e.textContent=n,function(e,t){N(e.head||e,t)}(r,e)}}function A(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function z(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function S(){return _(" ")}function R(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let j;function L(e){j=e}const P=[],G=[],M=[],U=[],q=Promise.resolve();let I=!1;function F(e){M.push(e)}let X=!1;const Y=new Set;function H(){if(!X){X=!0;do{for(let e=0;e<P.length;e+=1){const t=P[e];L(t),V(t.$$)}for(L(null),P.length=0;G.length;)G.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];Y.has(t)||(Y.add(t),t())}M.length=0}while(P.length);for(;U.length;)U.pop()();I=!1,X=!1,Y.clear()}}function V(e){if(null!==e.fragment){e.update(),k(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const Z=new Set;let W;function J(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function K(e,t,n,r){if(e&&e.o){if(Z.has(e))return;Z.add(e),W.c.push((()=>{Z.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Q(e,t,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=e.$$;i&&i.m(t,n),r||F((()=>{const t=o.map(y).filter(O);s?s.push(...t):k(t),e.$$.on_mount=[]})),a.forEach(F)}function ee(e,t){const n=e.$$;null!==n.fragment&&(k(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(P.push(e),I||(I=!0,q.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(e,t,n,r,i,o,s,a=[-1]){const l=j;L(e);const c=e.$$={fragment:null,ctx:null,props:o,update:v,not_equal:i,bound:x(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:x(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=o)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](o),u&&te(e,t)),n})):[],c.update(),u=!0,k(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(T)}else c.fragment&&c.fragment.c();t.intro&&J(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),H()}L(l)}class re{$destroy(){ee(this,1),this.$destroy=v}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ie(e){B(e,"svelte-1l39bkc",".divide-y.svelte-1l39bkc>.svelte-1l39bkc:not([hidden])~.svelte-1l39bkc:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200.svelte-1l39bkc>.svelte-1l39bkc:not([hidden])~.svelte-1l39bkc:not([hidden]){--tw-divide-opacity:1;border-color:rgba(229, 231, 235, var(--tw-divide-opacity))}.bg-white.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity))}.bg-gray-50.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-bg-opacity:1;background-color:rgba(249, 250, 251, var(--tw-bg-opacity))}.border-gray-200.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-border-opacity:1;border-color:rgba(229, 231, 235, var(--tw-border-opacity))}.border-t.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{border-top-width:1px}.border-b.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{border-bottom-width:1px}.flex.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.justify-between.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.font-medium.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{font-weight:500}.text-sm.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{font-size:0.875rem;line-height:1.25rem}.text-xs.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{font-size:0.75rem;line-height:1rem}.mb-2.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{margin-bottom:0.5rem}.mt-2.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{margin-top:0.5rem}.max-w-sm.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{max-width:24rem}.min-w-full.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{min-width:100%}.px-4.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-left:1rem;padding-right:1rem}.py-1.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-top:0.25rem;padding-bottom:0.25rem}.px-6.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-left:1.5rem;padding-right:1.5rem}.py-3.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-top:0.75rem;padding-bottom:0.75rem}.px-2.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{padding-left:0.5rem;padding-right:0.5rem}.shadow.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-shadow-color:0, 0, 0;--tw-shadow:0 1px 3px 0 rgba(var(--tw-shadow-color), 0.1), 0 1px 2px 0 rgba(var(--tw-shadow-color), 0.06);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.text-center.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{text-align:center}.text-gray-900.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-text-opacity:1;color:rgba(17, 24, 39, var(--tw-text-opacity))}.text-gray-500.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{--tw-text-opacity:1;color:rgba(107, 114, 128, var(--tw-text-opacity))}.w-full.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{width:100%}@media(min-width: 640px){.sm\\:rounded-md.svelte-1l39bkc.svelte-1l39bkc.svelte-1l39bkc{border-radius:0.375rem}}")}function oe(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function se(e,t,n){const r=e.slice();return r[8]=t[n],r}function ae(e){let t,n,r,i=e[8]+"";return{c(){t=z("th"),n=_(i),r=S(),C(t,"scope","col"),C(t,"class","px-6 py-3 text-center text-xs font-medium text-gray-500 svelte-1l39bkc")},m(e,i){A(e,t,i),N(t,n),N(t,r)},p:v,d(e){e&&T(t)}}}function le(e){let t,n,r,i,o,s,a,l,c,u,d,f,p,m,g,h,w,b,v,y=e[7]+1+"",x=e[5].title+"",k=e[5].difficulty+"",O=e[5].const.toFixed(1)+"",E=e[5].score+"",B=e[5].rating.toFixed(2)+"";return{c(){var e,N,A;t=z("tr"),n=z("td"),r=_(y),i=S(),o=z("td"),s=_(x),a=S(),l=z("td"),c=_(k),u=S(),d=z("td"),f=_(O),p=S(),m=z("td"),g=_(E),h=S(),w=z("td"),b=_(B),v=S(),C(n,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),C(o,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),e="max-width",N="40%",o.style.setProperty(e,N,A?"important":""),C(l,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),C(d,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),C(m,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),C(w,"class","px-2 py-1 text-sm text-gray-900 svelte-1l39bkc"),C(t,"class","svelte-1l39bkc")},m(e,y){A(e,t,y),N(t,n),N(n,r),N(t,i),N(t,o),N(o,s),N(t,a),N(t,l),N(l,c),N(t,u),N(t,d),N(d,f),N(t,p),N(t,m),N(m,g),N(t,h),N(t,w),N(w,b),N(t,v)},p(e,t){1&t&&x!==(x=e[5].title+"")&&D(s,x),1&t&&k!==(k=e[5].difficulty+"")&&D(c,k),1&t&&O!==(O=e[5].const.toFixed(1)+"")&&D(f,O),1&t&&E!==(E=e[5].score+"")&&D(g,E),1&t&&B!==(B=e[5].rating.toFixed(2)+"")&&D(b,B)},d(e){e&&T(t)}}}function ce(e){let t,n,r,i,o,s,a,l,c,u,d,f,p,m,g,h,w,b,y,x,k,O,E,B,R,j,L=e[1].best30Avg.toFixed(2)+"",P=e[1].maxAchievable.toFixed(2)+"",G=e[3],M=[];for(let t=0;t<G.length;t+=1)M[t]=ae(se(e,G,t));let U=e[0],q=[];for(let t=0;t<U.length;t+=1)q[t]=le(oe(e,U,t));return{c(){t=z("div"),n=z("h3"),n.textContent="Chuni Intl Viewer",r=S(),i=z("dl"),o=z("div"),s=z("dt"),s.textContent="Generated at",a=S(),l=z("dd"),l.textContent=`${e[2]}`,c=S(),u=z("div"),d=z("dt"),d.textContent="Best 30 Average",f=S(),p=z("dd"),m=_(L),g=S(),h=z("div"),w=z("dt"),w.textContent="Maximum Achievable Rating",b=S(),y=z("dd"),x=_(P),k=S(),O=z("table"),E=z("thead"),B=z("tr");for(let e=0;e<M.length;e+=1)M[e].c();R=S(),j=z("tbody");for(let e=0;e<q.length;e+=1)q[e].c();C(n,"class","font-medium text-gray-900 svelte-1l39bkc"),C(s,"class","text-gray-500 svelte-1l39bkc"),C(l,"class","text-gray-900 svelte-1l39bkc"),C(o,"class","py-1 flex justify-between text-sm font-medium svelte-1l39bkc"),C(d,"class","text-gray-500 svelte-1l39bkc"),C(p,"class","text-gray-900 svelte-1l39bkc"),C(u,"class","py-1 flex justify-between text-sm font-medium svelte-1l39bkc"),C(w,"class","text-gray-500 svelte-1l39bkc"),C(y,"class","text-gray-900 svelte-1l39bkc"),C(h,"class","py-1 flex justify-between text-sm font-medium svelte-1l39bkc"),C(i,"class","mt-2 border-t border-b border-gray-200 divide-y divide-gray-200 svelte-1l39bkc"),C(t,"class","bg-white shadow sm:rounded-md w-full max-w-sm px-4 mb-2 svelte-1l39bkc"),C(E,"class","bg-gray-50 svelte-1l39bkc"),C(j,"class","bg-white divide-y divide-gray-200 svelte-1l39bkc"),C(O,"class","min-w-full max-w-sm divide-y divide-gray-200 svelte-1l39bkc")},m(e,v){A(e,t,v),N(t,n),N(t,r),N(t,i),N(i,o),N(o,s),N(o,a),N(o,l),N(o,c),N(i,u),N(u,d),N(u,f),N(u,p),N(p,m),N(u,g),N(i,h),N(h,w),N(h,b),N(h,y),N(y,x),A(e,k,v),A(e,O,v),N(O,E),N(E,B);for(let e=0;e<M.length;e+=1)M[e].m(B,null);N(O,R),N(O,j);for(let e=0;e<q.length;e+=1)q[e].m(j,null)},p(e,[t]){if(2&t&&L!==(L=e[1].best30Avg.toFixed(2)+"")&&D(m,L),2&t&&P!==(P=e[1].maxAchievable.toFixed(2)+"")&&D(x,P),8&t){let n;for(G=e[3],n=0;n<G.length;n+=1){const r=se(e,G,n);M[n]?M[n].p(r,t):(M[n]=ae(r),M[n].c(),M[n].m(B,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=G.length}if(1&t){let n;for(U=e[0],n=0;n<U.length;n+=1){const r=oe(e,U,n);q[n]?q[n].p(r,t):(q[n]=le(r),q[n].c(),q[n].m(j,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=U.length}},i:v,o:v,d(e){e&&T(t),e&&T(k),e&&T(O),$(M,e),$(q,e)}}}function ue(e,t,n){let{songData:r}=t,{userRating:i}=t,o=(new Date).toLocaleDateString();return e.$$set=e=>{"songData"in e&&n(0,r=e.songData),"userRating"in e&&n(1,i=e.userRating)},[r,i,o,["#","Song Name","Difficulty","Constant","Score","Rating"]]}class de extends re{constructor(e){super(),ne(this,e,ue,ce,E,{songData:0,userRating:1},ie)}}function fe(e){const t=document.cookie.split(";").map((e=>decodeURIComponent(e.trim()))).map((e=>e.split("="))).find((t=>t[0]===e));return t?t[1]:""}const pe={master:"MAS",expert:"EXP",advanced:"ADV",basic:"BAS",ultima:"ULT"};async function me(){const e=Object.values(pe);return(await Promise.all(e.map((e=>async function(e=pe.master){const t=new FormData;t.append("genre","99"),t.append("token",fe("_t"));const n={[pe.master]:"sendMaster",[pe.expert]:"sendExpert",[pe.advanced]:"sendAdvanced",[pe.basic]:"sendBasic"},r=await fetch(`https://chunithm-net-eng.com/mobile/record/musicGenre/${n[e]}`,{headers:{"Cache-Control":"no-cache"},method:"POST",body:t}),i=await r.text(),o=document.createElement("div");o.innerHTML=i;const s=document.createDocumentFragment();s.appendChild(o);const a=[...s.querySelectorAll("form")];return a.shift(),a}(e))))).flatMap(((t,n)=>t.map((t=>{var r;return{title:t.querySelector(".music_title")?.innerText,score:(r=t.querySelector(".text_b")?.innerText,new b(r?+[...r].filter((e=>","!==e)).join(""):-1)),difficulty:e[n]}})).filter((e=>null!=e.title&&e.score.isGreaterThanOrEqualTo(0)))))}function ge(e,t){let n=new b(0);return n=e.isGreaterThanOrEqualTo(1007500)?new b(2):e.isGreaterThanOrEqualTo(1005e3)?new b(1.5).plus(e.minus(1005e3).multipliedBy(10).dividedBy(5e4)):e.isGreaterThanOrEqualTo(1e6)?new b(1).plus(e.minus(1e6).multipliedBy(5).dividedBy(5e4)):e.isGreaterThanOrEqualTo(975e3)?e.minus(975e3).multipliedBy(2).dividedBy(5e4):e.isGreaterThanOrEqualTo(95e4)?new b(-1.5).plus(e.minus(95e4).multipliedBy(3).dividedBy(5e4)):e.isGreaterThanOrEqualTo(925e3)?new b(-3).plus(e.minus(925e3).multipliedBy(3).dividedBy(5e4)):new b(-5).plus(e.minus(9e5).multipliedBy(4).dividedBy(5e4)),t.plus(n).multipliedBy(100).decimalPlaces(0,b.ROUND_FLOOR).dividedBy(100)}function he(e,t){let n=new b(0);return n=e.isGreaterThanOrEqualTo(1009e3)?new b(2.15):e.isGreaterThanOrEqualTo(1007500)?new b(2).plus(e.minus(1007500).multipliedBy(5).dividedBy(5e4)):e.isGreaterThanOrEqualTo(1005e3)?new b(1.5).plus(e.minus(1005e3).multipliedBy(10).dividedBy(5e4)):e.isGreaterThanOrEqualTo(1e6)?new b(1).plus(e.minus(1e6).multipliedBy(5).dividedBy(5e4)):e.isGreaterThanOrEqualTo(975e3)?e.minus(975e3).multipliedBy(2).dividedBy(5e4):e.isGreaterThanOrEqualTo(95e4)?new b(-1.5).plus(e.minus(95e4).multipliedBy(3).dividedBy(5e4)):e.isGreaterThanOrEqualTo(925e3)?new b(-3).plus(e.minus(925e3).multipliedBy(3).dividedBy(5e4)):new b(-5).plus(e.minus(9e5).multipliedBy(4).dividedBy(5e4)),t.plus(n).multipliedBy(100).decimalPlaces(0,b.ROUND_FLOOR).dividedBy(100)}function we(e){return e.sort(((e,t)=>t.minus(e).toNumber())).slice(0,30).reduce(((e,t)=>e.plus(t)),new b(0)).dividedBy(30)}function be(e){let t=e.reduce(((e,t)=>t.isGreaterThan(e)?t:e),new b(0));return we(e).multipliedBy(30).plus(t.multipliedBy(10)).dividedBy(40)}function ve(e){B(e,"svelte-uacn3s",'*,::before,::after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}::moz-focus-inner{border-style:none;padding:0}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}[type=\'search\']{-webkit-appearance:textfield;outline-offset:-2px}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;padding:0;line-height:inherit;color:inherit}button,select{text-transform:none}button,[type=\'button\'],[type=\'reset\'],[type=\'submit\']{-webkit-appearance:button}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,[role="button"]{cursor:pointer}code,kbd,samp,pre{font-size:1em}fieldset{margin:0;padding:0}hr{height:0;color:inherit;border-top-width:1px}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}img{border-style:solid}input::placeholder{opacity:1;color:#9ca3af}input::webkit-input-placeholder{opacity:1;color:#9ca3af}input::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder{opacity:1;color:#9ca3af}input::-ms-input-placeholder{opacity:1;color:#9ca3af}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}legend{padding:0}ol,ul{list-style:none;margin:0;padding:0}progress{vertical-align:baseline}pre,code,kbd,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}summary{display:list-item}table{text-indent:0;border-color:inherit;border-collapse:collapse}textarea{resize:vertical}textarea::placeholder{opacity:1;color:#9ca3af}textarea::webkit-input-placeholder{opacity:1;color:#9ca3af}textarea::-moz-placeholder{opacity:1;color:#9ca3af}textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}textarea::-ms-input-placeholder{opacity:1;color:#9ca3af}.bg-white.svelte-uacn3s{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity))}.bg-gray-500.svelte-uacn3s{--tw-bg-opacity:1;background-color:rgba(107, 114, 128, var(--tw-bg-opacity))}.bg-indigo-600.svelte-uacn3s{--tw-bg-opacity:1;background-color:rgba(79, 70, 229, var(--tw-bg-opacity))}.hover\\:bg-indigo-700.svelte-uacn3s:hover{--tw-bg-opacity:1;background-color:rgba(67, 56, 202, var(--tw-bg-opacity))}.hover\\:bg-gray-50.svelte-uacn3s:hover{--tw-bg-opacity:1;background-color:rgba(249, 250, 251, var(--tw-bg-opacity))}.bg-opacity-75.svelte-uacn3s{--tw-bg-opacity:0.75}.border-transparent.svelte-uacn3s{border-color:transparent}.border-gray-300.svelte-uacn3s{--tw-border-opacity:1;border-color:rgba(209, 213, 219, var(--tw-border-opacity))}.rounded-lg.svelte-uacn3s{border-radius:0.5rem}.rounded-md.svelte-uacn3s{border-radius:0.375rem}.border.svelte-uacn3s{border-width:1px}.inline-block.svelte-uacn3s{display:inline-block}.flex.svelte-uacn3s{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.inline-flex.svelte-uacn3s{display:-webkit-inline-box;display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex}.hidden.svelte-uacn3s{display:none}.items-end.svelte-uacn3s{-webkit-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end}.justify-center.svelte-uacn3s{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.font-medium.svelte-uacn3s{font-weight:500}.h-screen.svelte-uacn3s{height:100vh}.text-lg.svelte-uacn3s{font-size:1.125rem;line-height:1.75rem}.text-sm.svelte-uacn3s{font-size:0.875rem;line-height:1.25rem}.text-base.svelte-uacn3s{font-size:1rem;line-height:1.5rem}.leading-6.svelte-uacn3s{line-height:1.5rem}.mt-3.svelte-uacn3s{margin-top:0.75rem}.mt-2.svelte-uacn3s{margin-top:0.5rem}.mt-5.svelte-uacn3s{margin-top:1.25rem}.min-h-screen.svelte-uacn3s{min-height:100vh}.min-w-max.svelte-uacn3s{min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}.focus\\:outline-none.svelte-uacn3s:focus{outline:2px solid transparent;outline-offset:2px}.overflow-hidden.svelte-uacn3s{overflow:hidden}.overflow-y-auto.svelte-uacn3s{overflow-y:auto}.p-4.svelte-uacn3s{padding:1rem}.px-4.svelte-uacn3s{padding-left:1rem;padding-right:1rem}.py-2.svelte-uacn3s{padding-top:0.5rem;padding-bottom:0.5rem}.pt-4.svelte-uacn3s{padding-top:1rem}.pb-20.svelte-uacn3s{padding-bottom:5rem}.pt-5.svelte-uacn3s{padding-top:1.25rem}.pb-4.svelte-uacn3s{padding-bottom:1rem}.fixed.svelte-uacn3s{position:fixed}.inset-0.svelte-uacn3s{top:0px;right:0px;bottom:0px;left:0px}.shadow-xl.svelte-uacn3s{--tw-shadow-color:0, 0, 0;--tw-shadow:0 20px 25px -5px rgba(var(--tw-shadow-color), 0.1), 0 10px 10px -5px rgba(var(--tw-shadow-color), 0.04);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm.svelte-uacn3s{--tw-shadow-color:0, 0, 0;--tw-shadow:0 1px 2px 0 rgba(var(--tw-shadow-color), 0.05);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\\:ring-2.svelte-uacn3s:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\\:ring-offset-2.svelte-uacn3s:focus{--tw-ring-offset-width:2px}.focus\\:ring-indigo-500.svelte-uacn3s:focus{--tw-ring-opacity:1;--tw-ring-color:rgba(99, 102, 241, var(--tw-ring-opacity))}.text-left.svelte-uacn3s{text-align:left}.text-center.svelte-uacn3s{text-align:center}.text-gray-900.svelte-uacn3s{--tw-text-opacity:1;color:rgba(17, 24, 39, var(--tw-text-opacity))}.text-gray-500.svelte-uacn3s{--tw-text-opacity:1;color:rgba(107, 114, 128, var(--tw-text-opacity))}.text-white.svelte-uacn3s{--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity))}.text-gray-700.svelte-uacn3s{--tw-text-opacity:1;color:rgba(55, 65, 81, var(--tw-text-opacity))}.align-bottom.svelte-uacn3s{vertical-align:bottom}.w-full.svelte-uacn3s{width:100%}.w-screen.svelte-uacn3s{width:100vw}.z-10.svelte-uacn3s{z-index:10}.transform.svelte-uacn3s{--tw-rotate:0;--tw-rotate-x:0;--tw-rotate-y:0;--tw-rotate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-skew-x:0;--tw-skew-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;-webkit-transform:rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z));-ms-transform:rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z));transform:rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z))}.transition-opacity.svelte-uacn3s{-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-o-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;transition-duration:150ms}.transition-all.svelte-uacn3s{-webkit-transition-property:all;-o-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-o-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;transition-duration:150ms}@media(min-width: 640px){.sm\\:block.svelte-uacn3s{display:block}.sm\\:inline-block.svelte-uacn3s{display:inline-block}.sm\\:grid.svelte-uacn3s{display:-ms-grid;display:grid}.sm\\:h-screen.svelte-uacn3s{height:100vh}.sm\\:text-sm.svelte-uacn3s{font-size:0.875rem;line-height:1.25rem}.sm\\:my-8.svelte-uacn3s{margin-top:2rem;margin-bottom:2rem}.sm\\:mt-5.svelte-uacn3s{margin-top:1.25rem}.sm\\:mt-6.svelte-uacn3s{margin-top:1.5rem}.sm\\:mt-0.svelte-uacn3s{margin-top:0px}.sm\\:max-w-lg.svelte-uacn3s{max-width:32rem}.sm\\:p-0.svelte-uacn3s{padding:0px}.sm\\:p-6.svelte-uacn3s{padding:1.5rem}.sm\\:align-middle.svelte-uacn3s{vertical-align:middle}.sm\\:w-full.svelte-uacn3s{width:100%}.sm\\:gap-3.svelte-uacn3s{grid-gap:0.75rem;gap:0.75rem}.sm\\:grid-flow-row-dense.svelte-uacn3s{grid-auto-flow:row dense}.sm\\:grid-cols-2.svelte-uacn3s{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\\:col-start-2.svelte-uacn3s{grid-column-start:2}.sm\\:col-start-1.svelte-uacn3s{grid-column-start:1}}')}function ye(e){let t,n,r;return n=new de({props:{songData:e[1],userRating:e[2]}}),{c(){var e;t=z("div"),(e=n.$$.fragment)&&e.c(),C(t,"class","p-4 svelte-uacn3s")},m(e,i){A(e,t,i),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.songData=e[1]),4&t&&(r.userRating=e[2]),n.$set(r)},i(e){r||(J(n.$$.fragment,e),r=!0)},o(e){K(n.$$.fragment,e),r=!1},d(e){e&&T(t),ee(n)}}}function xe(e){let t;return{c(){t=z("div"),t.textContent="Loading...",C(t,"class","w-screen h-screen svelte-uacn3s")},m(e,n){A(e,t,n)},p:v,i:v,o:v,d(e){e&&T(t)}}}function ke(e){let t,n,r,i,o,s,a,l,c,u,d,f,p,m,g;return{c(){t=z("div"),n=z("div"),r=z("div"),i=S(),o=z("span"),o.textContent="​",s=S(),a=z("div"),l=z("div"),l.innerHTML='<div class="mt-3 text-center sm:mt-5 svelte-uacn3s"><h3 class="text-lg leading-6 font-medium text-gray-900 svelte-uacn3s" id="modal-title">Select Version</h3> \n              <div class="mt-2 svelte-uacn3s"><p class="text-sm text-gray-500 svelte-uacn3s">Select the Chunithm version you want to use for rating\n                  calculation.</p></div></div>',c=S(),u=z("div"),d=z("button"),d.textContent="International",f=S(),p=z("button"),p.textContent="Chunithm New",C(r,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity svelte-uacn3s"),C(r,"aria-hidden","true"),C(o,"class","hidden sm:inline-block sm:align-middle sm:h-screen svelte-uacn3s"),C(o,"aria-hidden","true"),C(d,"type","button"),C(d,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm svelte-uacn3s"),C(p,"type","button"),C(p,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm svelte-uacn3s"),C(u,"class","mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense svelte-uacn3s"),C(a,"class","inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6 svelte-uacn3s"),C(n,"class","flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0 svelte-uacn3s"),C(t,"class","fixed z-10 inset-0 overflow-y-auto svelte-uacn3s"),C(t,"aria-labelledby","modal-title"),C(t,"role","dialog"),C(t,"aria-modal","true")},m(h,w){A(h,t,w),N(t,n),N(n,r),N(n,i),N(n,o),N(n,s),N(n,a),N(a,l),N(a,c),N(a,u),N(u,d),N(u,f),N(u,p),m||(g=[R(d,"click",e[4]),R(p,"click",e[5])],m=!0)},p:v,i:v,o:v,d(e){e&&T(t),m=!1,k(g)}}}function Oe(e){let t,n,r,i;const o=[ke,xe,ye],s=[];function a(e,t){return null==e[0]?0:e[0]?1:2}return n=a(e),r=s[n]=o[n](e),{c(){t=z("div"),r.c(),C(t,"class","bg-white min-w-max svelte-uacn3s")},m(e,r){A(e,t,r),s[n].m(t,null),i=!0},p(e,[i]){let l=n;n=a(e),n===l?s[n].p(e,i):(W={r:0,c:[],p:W},K(s[l],1,1,(()=>{s[l]=null})),W.r||k(W.c),W=W.p,r=s[n],r?r.p(e,i):(r=s[n]=o[n](e),r.c()),J(r,1),r.m(t,null))},i(e){i||(J(r),i=!0)},o(e){K(r),i=!1},d(e){e&&T(t),s[n].d()}}}function Ee(e,t,n){let r=null,i=[],o={best30Avg:0,maxAchievable:0};async function s(e){n(0,r=!0);const t=await me();let s=[];s=e?await async function(){return await fetch("https://api.chunirec.net/2.0/music/showall.json?region=jp&token=252db1d77e53f52fd85c5b346fef7c90e345b3b3f0b12018a2074298e4b35182").then((e=>e.json()))}():await async function(){return await fetch("https://api.chunirec.net/2.0/music/showall.json?region=jp2&token=252db1d77e53f52fd85c5b346fef7c90e345b3b3f0b12018a2074298e4b35182").then((e=>e.json()))}(),n(1,i=t.map((t=>{const n=s.find((e=>e.meta.title===t.title))?.data?.[t.difficulty]?.const??0;return{...t,const:n,rating:(e?ge:he)(t.score,new b(n))}})).sort(((e,t)=>t.rating.minus(e.rating).toNumber())));const a=i.map((e=>e.rating));n(2,o={best30Avg:we(a),maxAchievable:be(a)}),n(0,r=!1)}return[r,i,o,s,()=>s(!0),()=>s(!1)]}class Ne extends re{constructor(e){super(),ne(this,e,Ee,Oe,E,{},ve)}}window.BigNumber=b,window.calculateRating=ge,window.calculateRatingNew=he;(async()=>{if("chunithm-net-eng.com"!==window.location.hostname)return alert("[chuni_intl_viewer] This tools could only be used under chunithm-net international."),void(window.location.href="https://chunithm-net-eng.com/");if(!fe("_t"))return alert("[chuni-intl-viewer] Token not found. Please login first."),void(window.location.href="https://chunithm-net-eng.com/");const e=document.body.attachShadow({mode:"open"});new Ne({target:e})})()}();
//# sourceMappingURL=main.min.js.map
